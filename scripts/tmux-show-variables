#!/bin/bash
export TTY
# shopt -s nullglob # use for 'for' loops but not for 'ls', 'grep'

( hs "$(basename "$0")" "$@" "#" "<==" "$(ps -o comm= $PPID)" 0</dev/null ) &>/dev/null

IFS= read -r -d '' vars <<HEREDOC
active_window_index: #{active_window_index}
alternate_on: #{alternate_on}
alternate_saved_x: #{alternate_saved_x}
alternate_saved_y: #{alternate_saved_y}
buffer_created: #{buffer_created}
buffer_name: #{buffer_name}
buffer_sample: #{buffer_sample}
buffer_size: #{buffer_size}
client_activity: #{client_activity}
client_cell_height: #{client_cell_height}
client_cell_width: #{client_cell_width}
client_control_mode: #{client_control_mode}
client_created: #{client_created}
client_discarded: #{client_discarded}
client_flags: #{client_flags}
client_height: #{client_height}
client_key_table: #{client_key_table}
client_last_session: #{client_last_session}
client_name: #{client_name}
client_pid: #{client_pid}
client_prefix: #{client_prefix}
client_readonly: #{client_readonly}
client_session: #{client_session}
client_termfeatures: #{client_termfeatures}
client_termname: #{client_termname}
client_termtype: #{client_termtype}
client_tty: #{client_tty}
client_uid: #{client_uid}
client_user: #{client_user}
client_utf8: #{client_utf8}
client_width: #{client_width}
client_written: #{client_written}
command: #{command}
command_list_alias: #{command_list_alias}
command_list_name: #{command_list_name}
command_list_usage: #{command_list_usage}
config_files: #{config_files}
copy_cursor_line: #{copy_cursor_line}
copy_cursor_word: #{copy_cursor_word}
copy_cursor_x: #{copy_cursor_x}
copy_cursor_y: #{copy_cursor_y}
current_file: #{current_file}
cursor_character: #{cursor_character}
cursor_flag: #{cursor_flag}
cursor_x: #{cursor_x}
cursor_y: #{cursor_y}
history_bytes: #{history_bytes}
history_limit: #{history_limit}
history_size: #{history_size}
hook: #{hook}
hook_client: #{hook_client}
hook_pane: #{hook_pane}
hook_sessio: #{hook_sessio}
hook_session_name: #{hook_session_name}
hook_window: #{hook_window}
hook_window_name: #{hook_window_name}
host: #{host}
host_short: #{host_short}
insert_flag: #{insert_flag}
keypad_cursor_flag: #{keypad_cursor_flag}
keypad_flag: #{keypad_flag}
last_window_index: #{last_window_index}
line: #{line}
mouse_all_flag: #{mouse_all_flag}
mouse_any_flag: #{mouse_any_flag}
mouse_button_flag: #{mouse_button_flag}
mouse_hyperlink: #{mouse_hyperlink}
mouse_line: #{mouse_line}
mouse_sgr_flag: #{mouse_sgr_flag}
mouse_standard_flag: #{mouse_standard_flag}
mouse_status_line: #{mouse_status_line}
mouse_status_range: #{mouse_status_range}
mouse_utf8_flag: #{mouse_utf8_flag}
mouse_word: #{mouse_word}
mouse_x: #{mouse_x}
mouse_y: #{mouse_y}
next_session_id: #{next_session_id}
origin_flag: #{origin_flag}
pane_active: #{pane_active}
pane_at_bottom: #{pane_at_bottom}
pane_at_left: #{pane_at_left}
pane_at_right: #{pane_at_right}
pane_at_top: #{pane_at_top}
pane_bg: #{pane_bg}
pane_bottom: #{pane_bottom}
pane_current_command: #{pane_current_command}
pane_current_path: #{pane_current_path}
pane_dead: #{pane_dead}
pane_dead_signal: #{pane_dead_signal}
pane_dead_status: #{pane_dead_status}
pane_dead_time: #{pane_dead_time}
pane_fg: #{pane_fg}
pane_format: #{pane_format}
pane_height: #{pane_height}
pane_id: #{pane_id}
pane_in_mode: #{pane_in_mode}
pane_index: #{pane_index}
pane_input_off: #{pane_input_off}
pane_last: #{pane_last}
pane_left: #{pane_left}
pane_marked: #{pane_marked}
pane_marked_set: #{pane_marked_set}
pane_mode: #{pane_mode}
pane_path: #{pane_path}
pane_pid: #{pane_pid}
pane_pipe: #{pane_pipe}
pane_right: #{pane_right}
pane_search_string: #{pane_search_string}
pane_start_command: #{pane_start_command}
pane_start_path: #{pane_start_path}
pane_synchronized: #{pane_synchronized}
pane_tabs: #{pane_tabs}
pane_title: #{pane_title}
pane_top: #{pane_top}
pane_tty: #{pane_tty}
pane_unseen_changes: #{pane_unseen_changes}
pane_width: #{pane_width}
pid: #{pid}
rectangle_toggle: #{rectangle_toggle}
scroll_positio: #{scroll_positio}
scroll_region_lower: #{scroll_region_lower}
scroll_region_upper: #{scroll_region_upper}
search_match: #{search_match}
search_present: #{search_present}
selection_active: #{selection_active}
selection_end_x: #{selection_end_x}
selection_end_y: #{selection_end_y}
selection_present: #{selection_present}
selection_start_x: #{selection_start_x}
selection_start_y: #{selection_start_y}
server_sessions: #{server_sessions}
session_activity: #{session_activity}
session_alerts: #{session_alerts}
session_attached: #{session_attached}
session_attached_list: #{session_attached_list}
session_created: #{session_created}
session_format: #{session_format}
session_group: #{session_group}
session_group_attached: #{session_group_attached}
session_group_attached_list: #{session_group_attached_list}
session_group_list: #{session_group_list}
session_group_many_attached: #{session_group_many_attached}
session_group_size: #{session_group_size}
session_grouped: #{session_grouped}
session_id: #{session_id}
session_last_attached: #{session_last_attached}
session_many_attached: #{session_many_attached}
session_marked: #{session_marked}
session_name: #{session_name}
session_path: #{session_path}
session_stack: #{session_stack}
session_windows: #{session_windows}
socket_path: #{socket_path}
start_time: #{start_time}
uid: #{uid}
user: #{user}
versio: #{versio}
window_active: #{window_active}
window_active_clients: #{window_active_clients}
window_active_clients_list: #{window_active_clients_list}
window_active_sessions: #{window_active_sessions}
window_active_sessions_list: #{window_active_sessions_list}
window_activity: #{window_activity}
window_activity_flag: #{window_activity_flag}
window_bell_flag: #{window_bell_flag}
window_bigger: #{window_bigger}
window_cell_height: #{window_cell_height}
window_cell_width: #{window_cell_width}
window_end_flag: #{window_end_flag}
window_flags: #{window_flags}
window_format: #{window_format}
window_height: #{window_height}
window_id: #{window_id}
window_index: #{window_index}
window_last_flag: #{window_last_flag}
window_layout: #{window_layout}
window_linked: #{window_linked}
window_linked_sessions: #{window_linked_sessions}
window_linked_sessions_list: #{window_linked_sessions_list}
window_marked_flag: #{window_marked_flag}
window_name: #{window_name}
window_offset_x: #{window_offset_x}
window_offset_y: #{window_offset_y}
window_panes: #{window_panes}
window_raw_flags: #{window_raw_flags}
window_silence_flag: #{window_silence_flag}
window_stack_index: #{window_stack_index}
window_start_flag: #{window_start_flag}
window_visible_layout: #{window_visible_layout}
window_width: #{window_width}
window_zoomed_flag: #{window_zoomed_flag}
wrap_flag: #{wrap_flag}
HEREDOC

tmux display-message -p "$vars" | pavs