HTTP/1.1 200 OK
Age: 1
Cache-Control: public, max-age=0, must-revalidate
Connection: keep-alive
Content-Security-Policy: default-src *; script-src * 'unsafe-eval' 'unsafe-inline'; style-src * 'unsafe-inline'; font-src *; img-src * data:
Content-Type: text/html; charset=utf-8
Date: Sat, 26 Aug 2023 02:50:28 GMT
Etag: W/"nq1x8bf9v32ani"
Referrer-Policy: origin-when-cross-origin
Server: Vercel
Strict-Transport-Security: max-age=63072000
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Matched-Path: /[...slug]
X-Powered-By: Next.js
X-Vercel-Cache: HIT
X-Vercel-Id: syd1::pdx1::cbqmn-1693018230115-2faac77d46c0
Transfer-Encoding: chunked

<!DOCTYPE html><html lang="en" class=""><head><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="canonical" href="https://fukamachi.hashnode.dev/day-3-roswell-common-lisp-scripting"/><title>Day 3: Roswell: Common Lisp scripting</title><meta name="description" content="Hi, all Common Lispers.üéä And, happy new year in 2022! üéç
I&#x27;m happy that you came to this blog again this year üòÜ
I explained how to install Lisp implementations, libraries, and applications with Roswell until the previous article.

Day 2: Roswell: I..."/><meta property="og:title" content="Day 3: Roswell: Common Lisp scripting"/><meta property="og:description" content="Hi, all Common Lispers.üéä And, happy new year in 2022! üéç
I&#x27;m happy that you came to this blog again this year üòÜ
I explained how to install Lisp implementations, libraries, and applications with Roswell until the previous article.

Day 2: Roswell: I..."/><meta property="og:site_name" content="fukamachi tech notes"/><meta property="og:type" content="article"/><meta property="og:url" content="https://fukamachi.hashnode.dev/day-3-roswell-common-lisp-scripting"/><meta name="image" property="og:image" content="https://fukamachi.hashnode.dev/api/og/post?og=eyJ0aXRsZSI6IkRheSUyMDMlM0ElMjBSb3N3ZWxsJTNBJTIwQ29tbW9uJTIwTGlzcCUyMHNjcmlwdGluZyIsImF1dGhvciI6IkVpdGFybyUyMEZ1a2FtYWNoaSIsImRvbWFpbiI6ImZ1a2FtYWNoaS5oYXNobm9kZS5kZXYiLCJwaG90byI6Imh0dHBzOi8vY2RuLmhhc2hub2RlLmNvbS9yZXMvaGFzaG5vZGUvaW1hZ2UvdXBsb2FkL3YxNjM0NjEwMDUzNDEzLzhrbkkxNjVSby5qcGVnIiwicmVhZFRpbWUiOjUsInJlYWN0aW9ucyI6OX0="/><link rel="apple-touch-icon" sizes="180x180" href="https://cdn.hashnode.com/res/hashnode/image/upload/v1611242155728/W3_BYVVVh.png"/><link rel="icon" type="image/png" sizes="32x32" href="https://cdn.hashnode.com/res/hashnode/image/upload/v1611242173172/AOX1gE2jc.png"/><link rel="icon" type="image/png" sizes="16x16" href="https://cdn.hashnode.com/res/hashnode/image/upload/v1611242187756/TRTNYp32O.png"/><link rel="mask-icon" href="/static/images/brand/safari-pinned-tab-new.svg" color="#2962ff"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="theme-color" content="#f6f7fb"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:title" content="Day 3: Roswell: Common Lisp scripting"/><meta property="twitter:description" content="Hi, all Common Lispers.üéä And, happy new year in 2022! üéç
I&#x27;m happy that you came to this blog again this year üòÜ
I explained how to install Lisp implementations, libraries, and applications with Roswell until the previous article.

Day 2: Roswell: I..."/><meta property="twitter:image" content="https://fukamachi.hashnode.dev/api/og/post?og=eyJ0aXRsZSI6IkRheSUyMDMlM0ElMjBSb3N3ZWxsJTNBJTIwQ29tbW9uJTIwTGlzcCUyMHNjcmlwdGluZyIsImF1dGhvciI6IkVpdGFybyUyMEZ1a2FtYWNoaSIsImRvbWFpbiI6ImZ1a2FtYWNoaS5oYXNobm9kZS5kZXYiLCJwaG90byI6Imh0dHBzOi8vY2RuLmhhc2hub2RlLmNvbS9yZXMvaGFzaG5vZGUvaW1hZ2UvdXBsb2FkL3YxNjM0NjEwMDUzNDEzLzhrbkkxNjVSby5qcGVnIiwicmVhZFRpbWUiOjUsInJlYWN0aW9ucyI6OX0="/><meta property="twitter:creator" content="@nitro_idiot"/><style>/* Monkai theme */
          .hljs{display:block;overflow-x:auto;padding:.5em;background:#23241f}.hljs,.hljs-subst,.hljs-tag{color:#f8f8f2}.hljs-emphasis,.hljs-strong{color:#a8a8a2}.hljs-bullet,.hljs-link,.hljs-literal,.hljs-number,.hljs-quote,.hljs-regexp{color:#ae81ff}.hljs-code,.hljs-section,.hljs-selector-class,.hljs-title{color:#a6e22e}.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}.hljs-attr,.hljs-keyword,.hljs-name,.hljs-selector-tag{color:#f92672}.hljs-attribute,.hljs-symbol{color:#66d9ef}.hljs-class .hljs-title,.hljs-params{color:#f8f8f2}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-selector-attr,.hljs-selector-id,.hljs-selector-pseudo,.hljs-string,.hljs-template-variable,.hljs-type,.hljs-variable{color:#e6db74}.hljs-comment,.hljs-deletion,.hljs-meta{color:#75715e}
            /* Monkai theme ends */</style><link rel="preload" as="image" href="https://cdn.hashnode.com/res/hashnode/image/upload/v1634610053413/8knI165Ro.jpeg?w=400&amp;h=400&amp;fit=crop&amp;crop=faces&amp;auto=compress,format&amp;format=webp"/><meta name="next-head-count" content="24"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&amp;family=Plus+Jakarta+Sans:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,700&amp;display=swap"/><style>#nprogress{pointer-events:none}#nprogress .bar{background:#29d;position:fixed;z-index:1031;top:0;left:0;width:100%;height:2px}#nprogress .peg{display:block;position:absolute;right:0;width:100px;height:100%;box-shadow:0 0 10px #29d,0 0 5px #29d;opacity:1;-webkit-transform:rotate(3deg) translate(0,-4px);-ms-transform:rotate(3deg) translate(0,-4px);transform:rotate(3deg) translate(0,-4px)}#nprogress .spinner{display:block;position:fixed;z-index:1031;top:15px;right:15px}#nprogress .spinner-icon{width:18px;height:18px;box-sizing:border-box;border:solid 2px transparent;border-top-color:#29d;border-left-color:#29d;border-radius:50%;-webkit-animation:nprogress-spinner .4s linear infinite;animation:nprogress-spinner .4s linear infinite}.nprogress-custom-parent{overflow:hidden;position:relative}.nprogress-custom-parent #nprogress .bar,.nprogress-custom-parent #nprogress .spinner{position:absolute}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(360deg)}}@keyframes nprogress-spinner{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}</style><script async="" src="https://ping.hashnode.com/gtag/js?id=G-72XG3F8LNJ"></script><script type="text/javascript">
    window.dataLayer = window.dataLayer || [];
    function gtag(){window.dataLayer.push(arguments);}
    gtag('js', new Date());
  </script><link rel="preload" href="/_next/static/css/1db5f0c77cdba600.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1db5f0c77cdba600.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/_next/static/chunks/1664-da2a394d7c2df244.js"></script><script defer="" src="/_next/static/chunks/430-e15e92fb116702db.js"></script><script defer="" src="/_next/static/chunks/6518-4bd6626146f4ac51.js"></script><script defer="" src="/_next/static/chunks/46-ce422d9bad342733.js"></script><script defer="" src="/_next/static/chunks/8226.64bcf70d809f2c9f.js"></script><script defer="" src="/_next/static/chunks/7528-f17c8f9f1700c1ed.js"></script><script defer="" src="/_next/static/chunks/331.38856fb0dc9af11b.js"></script><script src="/_next/static/chunks/webpack-9a51816f9b4ddfb7.js" defer=""></script><script src="/_next/static/chunks/framework-ce84985cd166733a.js" defer=""></script><script src="/_next/static/chunks/main-999609f14ec7de7a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e3ee1b46f25b41cb.js" defer=""></script><script src="/_next/static/chunks/2661-fc434c1217030ae8.js" defer=""></script><script src="/_next/static/chunks/1640-77ebc46fdf09bec4.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...slug%5D-e4dce98b333b5d8f.js" defer=""></script><script src="/_next/static/odVCBIKd4qOA3x_wWYc3C/_buildManifest.js" defer=""></script><script src="/_next/static/odVCBIKd4qOA3x_wWYc3C/_ssgManifest.js" defer=""></script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Plus+Jakarta+Sans:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,700&display=swap"/></head><body class="bg-white leading-normal dark:bg-slate-900"><input type="hidden" id="hn-user"/><div id="__next"><div class="bg-white dark:bg-slate-900" data-theme="light"><script type="application/ld+json">{"@context":"https://schema.org","@type":"NewsArticle","url":"https://fukamachi.hashnode.dev/day-3-roswell-common-lisp-scripting","mainEntityOfPage":"https://fukamachi.hashnode.dev/day-3-roswell-common-lisp-scripting","headline":"Day 3: Roswell: Common Lisp scripting","description":"Hi, all Common Lispers.üéä And, happy new year in 2022! üéç\nI'm happy that you came to this blog again this year üòÜ\nI explained how to install Lisp implementations, libraries, and applications with Roswell until the previous article.\n\nDay 2: Roswell: I...","datePublished":"2022-01-04T05:10:07.093Z","dateModified":"2022-01-04T23:56:29.152Z","isAccessibleForFree":true,"author":{"@type":"Person","name":"Eitaro Fukamachi","url":"https://hashnode.com/@fukamachi","sameAs":"https://twitter.com/nitro_idiot"},"publisher":{"@type":"Organization","name":"fukamachi tech notes","url":"https://fukamachi.hashnode.dev","logo":"https://hashnode.com/utility/r?url=https%3A%2F%2Fcdn.hashnode.com%2Fres%2Fhashnode%2Fimage%2Fupload%2Fv1559814205701%2Fek9fO-yT0.jpeg%3Fw%3D800%26bm%3Dnormal%26balph%3D100%26txt64%3DZnVrYW1hY2hpIHRlY2ggbm90ZXM%26txtsize%3D42%26txtfit%3Dmax%26txtalign%3Dmiddle%2Ccenter%26txtfont%3DHelvetica%20Neue%2CBold%26txtclr%3D000000%26blend%3Dffffff"}}</script><header class="blog-header z-50 w-full border-b relative transform-none md:sticky md:top-0 md:left-0 md:backdrop-blur-lg border-black/10 bg-white bg-opacity-70 dark:border-white/10 dark:bg-slate-900 dark:bg-opacity-70"><div class="container mx-auto px-2 md:px-4 md:py-1 2xl:px-10"><div class="relative z-40 flex flex-row items-center justify-between pt-8 pb-2 md:py-4"><div class="mb-2 flex flex-row items-center md:mb-0 dark:text-white"><a href="/" aria-label="Blog home" data-title="Blog home" class="blog-back-to-home-button tooltip-handle mr-2 flex flex-row items-center rounded-full p-3 transition duration-100 ease-in-out hover:bg-black/10 dark:hover:bg-white/20"><svg class="h-4 w-4 fill-current pr-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 17"><path d="M7.75135 16.7197L0.885098 9.55347C0.683348 9.31347 0.600098 9.08847 0.600098 8.89722C0.600098 8.70597 0.68331 8.44834 0.850898 8.27509L7.71715 1.10884C8.06035 0.749066 8.6299 0.737366 8.9884 1.08189C9.34933 1.42408 9.36107 1.99576 9.01535 2.35351L2.7466 8.89722L9.0466 15.4747C9.39231 15.831 9.38057 16.404 9.01965 16.7463C8.6626 17.091 8.0926 17.0797 7.75135 16.7197Z"></path></svg></a><div class="mr-4"><button type="button" aria-label="Menu" data-title="Menu" class="blog-bars-button tooltip-handle flex flex-row items-center rounded-full p-2 transition duration-100 ease-in-out focus:outline-none hover:bg-black/10 dark:hover:bg-white/20"><svg class="h-6 w-6 stroke-current" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.9889 11.9969H11.9945H3M20.9889 17.8745H3M21 6.12451H3" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div><div class="hidden md:block"><h1 class="blog-title text-lg md:text-xl text-left break-words font-heading font-semibold leading-snug md:font-bold dark:text-white"><a href="/?source=top_nav_blog_home" aria-label="fukamachi tech notes" class="flex flex-row items-center"><div class="mr-2 h-10 w-10 shrink-0 overflow-hidden rounded-full"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27400%27%20height=%27400%27/%3e"/></span><img alt="Eitaro Fukamachi" src="https://cdn.hashnode.com/res/hashnode/image/upload/v1634610053413/8knI165Ro.jpeg?w=400&amp;h=400&amp;fit=crop&amp;crop=faces&amp;auto=compress,format&amp;format=webp" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/></span></div>fukamachi tech notes</a></h1></div></div><div class="flex flex-row items-center dark:text-white"><button type="button" aria-label="Search the blog" data-title="Search" class="blog-search-button tooltip-handle mr-2 flex flex-row items-center rounded-full p-2 font-semibold transition duration-100 ease-in-out focus:outline-none hover:bg-black/10 dark:hover:bg-white/20"><svg class="h-6 w-6 stroke-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M21 21L15.8091 15.8091M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><button type="button" aria-label="Theme switcher" data-title="Toggle dark mode" class="blog-theme-switcher tooltip-handle mr-2 flex flex-row items-center rounded-full p-2 font-semibold transition duration-100 ease-in-out focus:outline-none hover:bg-black/10 dark:hover:bg-white/20"><svg class="h-6 w-6 stroke-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M3 11.4489C3 16.7238 7.16904 21 12.3118 21C16.2709 21 19.6529 18.4657 21 14.8925C19.9331 15.4065 18.7418 15.6938 17.485 15.6938C12.9137 15.6938 9.20787 11.8928 9.20787 7.20396C9.20787 5.24299 9.85605 3.4373 10.9446 2C6.45002 2.6783 3 6.65034 3 11.4489Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><div class="hidden md:mr-2 md:block"><div class="flex animate-pulse flex-row items-center rounded-full border-1-1/2 px-4 py-1.5 text-center text-sm font-medium leading-relaxed bg-slate-100 dark:border-slate-900 dark:bg-slate-800"><svg class="invisible mr-2 h-5 w-5" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2953 4.58698C13.9301 4.37611 13.683 4.00814 13.626 3.59028L13.4336 2.17939C13.3415 1.50373 12.7644 1 12.0825 1L9.91765 1C9.23573 1 8.65865 1.50373 8.56652 2.17939L8.37412 3.5903C8.31709 4.00849 8.06963 4.37672 7.70395 4.58749L7.0923 4.94003C6.72723 5.15046 6.28538 5.18029 5.89533 5.02084L4.57791 4.48227C3.9467 4.22423 3.22192 4.47214 2.88096 5.06269L1.79854 6.9375C1.45758 7.52805 1.60528 8.27969 2.14436 8.69731L3.26948 9.56895C3.60259 9.82701 3.79768 10.2246 3.79799 10.646L3.7985 11.3519C3.7988 11.774 3.60364 12.1724 3.26999 12.4309L2.14433 13.3029C1.60525 13.7205 1.45755 14.4722 1.79851 15.0627L2.88093 16.9375C3.22189 17.5281 3.94667 17.776 4.57788 17.518L5.89588 16.9792C6.28624 16.8196 6.72847 16.8496 7.0937 17.0604L7.70483 17.4133C8.07006 17.6241 8.31718 17.9921 8.37416 18.41L8.56652 19.8206C8.65865 20.4963 9.23573 21 9.91765 21L12.0825 21C12.7644 21 13.3415 20.4963 13.4336 19.8206L13.626 18.4098C13.683 17.9916 13.9305 17.6234 14.2962 17.4127L14.9077 17.0602C15.2728 16.8497 15.7146 16.8199 16.1047 16.9794L17.4221 17.5179C18.0533 17.776 18.7781 17.5281 19.119 16.9375L20.2015 15.0627C20.5424 14.4721 20.3947 13.7205 19.8557 13.3029L18.7305 12.4312C18.3974 12.1732 18.2023 11.7756 18.202 11.3542L18.2015 10.6483C18.2012 10.2263 18.3964 9.82784 18.73 9.56935L19.8556 8.69734C20.3947 8.27972 20.5424 7.52809 20.2014 6.93753L19.119 5.06272C18.7781 4.47217 18.0533 4.22427 17.4221 4.48231L16.1042 5.02106C15.7138 5.18064 15.2716 5.15063 14.9064 4.93976L14.2953 4.58698Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M13.3619 12.3637C12.6088 13.6681 10.9408 14.1151 9.63638 13.362C8.33195 12.6088 7.88502 10.9409 8.63813 9.63643C9.39125 8.33199 11.0592 7.88506 12.3637 8.63818C13.6681 9.39129 14.115 11.0593 13.3619 12.3637Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="invisible">Follow</span></div></div><div class="h-10 w-10 animate-pulse rounded-full border-1-1/2 bg-slate-100 dark:border-slate-900 dark:bg-slate-800"></div></div></div><div class="mx-auto my-5 flex w-2/3 flex-row items-center justify-center md:hidden"><h1 class="blog-title text-2xl text-center break-words font-heading font-semibold leading-snug md:font-bold dark:text-white"><a href="/?source=top_nav_blog_home" aria-label="fukamachi tech notes" class="flex flex-row items-center">fukamachi tech notes</a></h1></div><div class="blog-sub-header mb-4 md:hidden" data-testid="blog-sub-header"><div class="flex flex-row items-center justify-center md:mb-0 md:ml-auto"><div class="flex animate-pulse flex-row items-center rounded-full border-1-1/2 px-4 py-1.5 text-center text-sm font-medium leading-relaxed bg-slate-100 dark:border-slate-900 dark:bg-slate-800"><svg class="invisible mr-2 h-5 w-5" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2953 4.58698C13.9301 4.37611 13.683 4.00814 13.626 3.59028L13.4336 2.17939C13.3415 1.50373 12.7644 1 12.0825 1L9.91765 1C9.23573 1 8.65865 1.50373 8.56652 2.17939L8.37412 3.5903C8.31709 4.00849 8.06963 4.37672 7.70395 4.58749L7.0923 4.94003C6.72723 5.15046 6.28538 5.18029 5.89533 5.02084L4.57791 4.48227C3.9467 4.22423 3.22192 4.47214 2.88096 5.06269L1.79854 6.9375C1.45758 7.52805 1.60528 8.27969 2.14436 8.69731L3.26948 9.56895C3.60259 9.82701 3.79768 10.2246 3.79799 10.646L3.7985 11.3519C3.7988 11.774 3.60364 12.1724 3.26999 12.4309L2.14433 13.3029C1.60525 13.7205 1.45755 14.4722 1.79851 15.0627L2.88093 16.9375C3.22189 17.5281 3.94667 17.776 4.57788 17.518L5.89588 16.9792C6.28624 16.8196 6.72847 16.8496 7.0937 17.0604L7.70483 17.4133C8.07006 17.6241 8.31718 17.9921 8.37416 18.41L8.56652 19.8206C8.65865 20.4963 9.23573 21 9.91765 21L12.0825 21C12.7644 21 13.3415 20.4963 13.4336 19.8206L13.626 18.4098C13.683 17.9916 13.9305 17.6234 14.2962 17.4127L14.9077 17.0602C15.2728 16.8497 15.7146 16.8199 16.1047 16.9794L17.4221 17.5179C18.0533 17.776 18.7781 17.5281 19.119 16.9375L20.2015 15.0627C20.5424 14.4721 20.3947 13.7205 19.8557 13.3029L18.7305 12.4312C18.3974 12.1732 18.2023 11.7756 18.202 11.3542L18.2015 10.6483C18.2012 10.2263 18.3964 9.82784 18.73 9.56935L19.8556 8.69734C20.3947 8.27972 20.5424 7.52809 20.2014 6.93753L19.119 5.06272C18.7781 4.47217 18.0533 4.22427 17.4221 4.48231L16.1042 5.02106C15.7138 5.18064 15.2716 5.15063 14.9064 4.93976L14.2953 4.58698Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M13.3619 12.3637C12.6088 13.6681 10.9408 14.1151 9.63638 13.362C8.33195 12.6088 7.88502 10.9409 8.63813 9.63643C9.39125 8.33199 11.0592 7.88506 12.3637 8.63818C13.6681 9.39129 14.115 11.0593 13.3619 12.3637Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="invisible">Follow</span></div></div><div class="mt-6"><div class="blog-social-media-section flex flex-row flex-wrap gap-y-2 justify-center text-slate-700 dark:text-slate-300"><a href="https://twitter.com/nitro_idiot" aria-label="Find me on Twitter" target="_blank" rel="me noopener" class="flex flex-row items-center justify-center rounded-full p-2 transition-colors duration-150 hover:bg-black/10 dark:hover:bg-white/20"><svg class="h-5 w-5 fill-current" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a href="https://github.com/fukamachi" aria-label="Find me on Github" target="_blank" rel="me noopener" class="flex flex-row items-center justify-center rounded-full p-2 transition-colors duration-150 hover:bg-black/10 dark:hover:bg-white/20"><svg class="h-5 w-5 fill-current" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="https://8arrow.org" aria-label="Check out my website" target="_blank" rel="me noopener" class="flex flex-row items-center justify-center rounded-full p-2 transition-colors duration-150 hover:bg-black/10 dark:hover:bg-white/20"><svg class="h-5 w-5 fill-current" viewBox="0 0 24 24"><path d="M17.9 17.39c-.26-.8-1.01-1.39-1.9-1.39h-1v-3a1 1 0 0 0-1-1H8v-2h2a1 1 0 0 0 1-1V7h2a2 2 0 0 0 2-2v-.41c2.93 1.18 5 4.05 5 7.41 0 2.08-.8 3.97-2.1 5.39M11 19.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.22.21-1.79L9 15v1a2 2 0 0 0 2 2m1-16A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2z"></path></svg></a><a href="https://hashnode.com/@fukamachi" aria-label="Find me on Hashnode" target="_blank" rel="me noopener" class="flex flex-row items-center justify-center rounded-full p-2 transition-colors duration-150 hover:bg-black/10 dark:hover:bg-white/20"><svg class="h-5 w-5 fill-current" viewBox="0 0 200 200" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.742 66.824c-18.323 18.323-18.323 48.029 0 66.352l53.082 53.082c18.323 18.323 48.029 18.323 66.352 0l53.082-53.082c18.323-18.323 18.323-48.03 0-66.352l-53.082-53.082c-18.323-18.323-48.03-18.323-66.352 0L13.742 66.824zm109.481 56.399c12.826-12.826 12.826-33.62 0-46.446s-33.62-12.826-46.446 0-12.826 33.62 0 46.446 33.62 12.826 46.446 0z"></path></svg></a><a href="/rss.xml" aria-label="Blog&#x27;s XML Feed" target="_blank" rel="me noopener" class="flex flex-row items-center justify-center rounded-full p-2 transition-colors duration-150 hover:bg-black/10 dark:hover:bg-white/20"><svg class="h-5 w-5 fill-current" viewBox="0 0 448 512"><path d="M80 368c17.645 0 32 14.355 32 32s-14.355 32-32 32-32-14.355-32-32 14.355-32 32-32m0-48c-44.183 0-80 35.817-80 80s35.817 80 80 80 80-35.817 80-80-35.817-80-80-80zm367.996 147.615c-6.449-237.834-198.057-429.163-435.61-435.61C5.609 31.821 0 37.229 0 44.007v24.02c0 6.482 5.147 11.808 11.626 11.992 211.976 6.04 382.316 176.735 388.354 388.354.185 6.479 5.51 11.626 11.992 11.626h24.02c6.78.001 12.187-5.608 12.004-12.384zm-136.239-.05C305.401 305.01 174.966 174.599 12.435 168.243 5.643 167.977 0 173.444 0 180.242v24.024c0 6.431 5.072 11.705 11.497 11.98 136.768 5.847 246.411 115.511 252.258 252.258.275 6.425 5.549 11.497 11.98 11.497h24.024c6.797-.001 12.264-5.644 11.998-12.436z"></path></svg></a></div></div></div></div></header><div class="blog-post-area relative z-40"><main class="blog-post-detail-card pb-24"><article><div class="blog-article-page container relative mx-auto grid grid-cols-8"><div class="col-span-full lg:col-span-6 lg:col-start-2"><div class="mt-6 break-words px-4 text-center font-heading text-3xl font-extrabold text-slate-900 dark:text-white md:mt-10 md:px-5 md:text-4xl lg:px-8 xl:px-20 xl:text-5xl mb-8 md:mb-14"><h1 class="leading-snug" data-query="post-title">Day 3: Roswell: Common Lisp scripting</h1></div><div class="relative z-20 mb-8 flex flex-row flex-wrap items-center justify-center px-4 md:-mt-7 md:mb-14 md:text-lg last:md:mb-10"><div class="mb-5 flex w-full flex-row items-center justify-center md:mb-0 md:w-auto md:justify-start"><div class="mr-2 h-10 w-10 overflow-hidden rounded-full bg-slate-200 dark:bg-white/20 md:mr-3 md:h-12 md:w-12"><a href="https://hashnode.com/@fukamachi" class="relative block h-full w-full"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27200%27%20height=%27200%27/%3e"/></span><img alt="Eitaro Fukamachi&#x27;s photo" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="relative z-20 block w-full rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Eitaro Fukamachi&#x27;s photo" loading="lazy" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="relative z-20 block w-full rounded-full" src="https://cdn.hashnode.com/res/hashnode/image/upload/v1634610053413/8knI165Ro.jpeg?w=200&amp;h=200&amp;fit=crop&amp;crop=faces&amp;auto=compress,format&amp;format=webp"/></noscript></span></a></div><a href="https://hashnode.com/@fukamachi" class="font-medium text-slate-900 dark:text-white"><span>Eitaro Fukamachi</span></a></div><div class="mb-5 flex w-full flex-row items-center justify-center md:mb-0 md:w-auto md:justify-start"><span class="mx-3 hidden font-bold text-slate-500 md:block">¬∑</span><a href="https://fukamachi.hashnode.dev/day-3-roswell-common-lisp-scripting" class="tooltip-handle text-slate-700 dark:text-slate-400" data-title="Jan 4, 2022 05:10"><span>Jan 4, 2022</span></a><span class="mx-3 block font-bold text-slate-500">¬∑</span><p class="flex flex-row items-center text-slate-700 dark:text-slate-400"><svg class="mr-2 h-5 w-5 fill-current opacity-75" viewBox="0 0 576 512"><path d="M540.9 56.77c-45.95-16.66-90.23-24.09-129.1-24.75-60.7.94-102.7 17.45-123.8 27.72-21.1-10.27-64.1-26.8-123.2-27.74-40-.05-84.4 8.35-129.7 24.77C14.18 64.33 0 84.41 0 106.7v302.9c0 14.66 6.875 28.06 18.89 36.8 11.81 8.531 26.64 10.98 40.73 6.781 118.9-36.34 209.3 19.05 214.3 22.19C277.8 477.6 281.2 480 287.1 480c6.52 0 10.12-2.373 14.07-4.578 10.78-6.688 98.3-57.66 214.3-22.27 14.11 4.25 28.86 1.75 40.75-6.812C569.1 437.6 576 424.2 576 409.6V106.7c0-22.28-14.2-42.35-35.1-49.93zM272 438.1c-24.95-12.03-71.01-29.37-130.5-29.37-27.83 0-58.5 3.812-91.19 13.77-4.406 1.344-9 .594-12.69-2.047C34.02 417.8 32 413.1 32 409.6V106.7c0-8.859 5.562-16.83 13.86-19.83C87.66 71.7 127.9 63.95 164.5 64c51.8.81 89.7 15.26 107.5 23.66V438.1zm272-28.5c0 4.375-2.016 8.234-5.594 10.84-3.766 2.703-8.297 3.422-12.69 2.125C424.1 391.6 341.3 420.4 304 438.3V87.66c17.8-8.4 55.7-22.85 107.4-23.66 35.31-.063 76.34 7.484 118.8 22.88 8.2 3 13.8 10.96 13.8 19.82v302.9z"></path></svg><span>5<!-- --> min read</span></p></div></div><div class="mb-8 -mt-7 flex flex-col items-center md:mb-14 md:flex-row md:justify-center"><div class="ml-0 mb-2 mt-4 h-10 w-48 animate-pulse rounded-full bg-slate-100 p-2 dark:border-slate-900 dark:bg-slate-800 md:mr-2 md:mb-0 md:mt-0 md:ml-4"></div></div></div></div><div class="blog-content-wrapper article-main-wrapper container relative z-30 mx-auto grid grid-flow-row grid-cols-8 xl:gap-6 2xl:grid-cols-10"><section class="blog-content-main z-20 col-span-8 mb-10 px-4 md:z-10 lg:col-span-6 lg:col-start-2 lg:px-0 xl:col-span-6 xl:col-start-2 2xl:col-span-6 2xl:col-start-3"><div class="relative"><div id="post-content-parent" class="relative mb-10 pb-14"><div id="post-content-wrapper" class="prose prose-lg mx-auto mb-10 min-h-30 break-words dark:prose-dark xl:prose-xl"><p>Hi, all Common Lispers.<br />üéä And, happy new year in 2022! üéç</p>
<p>I'm happy that you came to this blog again this year üòÜ</p>
<p>I explained how to install Lisp implementations, libraries, and applications with Roswell until the previous article.</p>
<ul>
<li><a target="_blank" href="https://fukamachi.hashnode.dev/day-2-roswell-install-libraries-and-applications">Day 2: Roswell: Install libraries/applications</a></li>
</ul>
<p>Today, I can finally introduce a different aspect of <a target="_blank" href="https://github.com/roswell/roswell">Roswell</a> -- as a scripting supporter.</p>
<h2 id="heading-scripting-in-common-lisp-world">Scripting in Common Lisp world</h2>
<p>Let's think about writing a script in Common Lisp.</p>
<p>It has to accept input as a shell command, execute some code, and quit.</p>
<p>How to achieve it in the REPL first language? In SBCL, the <code>--script</code> option is just for it.</p>
<pre><code class="lang-shell">$ sbcl --script hello.lisp
</code></pre>
<p>Using this in shebang, it works as a shell command.</p>
<pre><code class="lang-shell">#!/usr/local/bin/sbcl --script

(write-line "Hello, World!")
</code></pre>
<p>Save this code as a "hello.lisp" file and give it execute permission.</p>
<pre><code>$ ./hello.lisp
Hello, World<span class="hljs-operator">!</span>
</code></pre><p>Good work. But, this requires SBCL to be installed at "/usr/local/bin/sbcl". If it's installed at the other location, the shell raises an error:</p>
<pre><code>$ ./hello.lisp
<span class="hljs-operator">-</span>bash: ./hello.lisp: <span class="hljs-operator">/</span>usr<span class="hljs-operator">/</span>local<span class="hljs-operator">/</span>bin<span class="hljs-operator">/</span>sbcl: bad interpreter: No such file or directory
</code></pre><p>This problem is not limited to Common Lisp but also in Python, Ruby, and other languages. A standard solution is to rewrite shebang using <code>/usr/bin/env</code>.</p>
<pre><code class="lang-shell">#!/usr/bin/env -S sbcl --script

(write-line "Hello, World!")
</code></pre>
<p>The <code>-S</code> option is specified to make <code>/usr/bin/env</code> accept options. If you don't specify it, an error will occur trying to find the program named "sbcl --script".</p>
<p>Command-line arguments can be accessed via <code>sb-ext:*posix-argv*</code>. Looks good, huh?</p>
<h2 id="heading-is-it-portable-enough">Is it portable enough?</h2>
<p>Of course, this only works with SBCL, but it's not so bad for UNIX-like OSes where SBCL is installed. Not often, but I use this method in Docker containers.</p>
<p>However, what if you want to write a Common Lisp application with a command-line interface that is supposed to run in various environments. Is the SBCL script portable enough?</p>
<p>First of all, it's not easy to load libraries via Quicklisp. Because <code>sbcl --script</code> doesn't read <code>.sbclrc</code>, and don't load Quicklisp even if it's installed.</p>
<p>Besides, it also becomes more difficult if you are aiming for a general-purpose script, such as if you want to run it on other implementations or if you want to support Windows.</p>
<h2 id="heading-roswell-script">Roswell Script</h2>
<p>"Roswell script" is a good option in that case.</p>
<p>Start writing a Roswell script that outputs "Hello, World!". <code>ros init</code> is a command to create a template for a Roswell script.</p>
<pre><code>$ ros init hello<span class="hljs-operator">-</span>world
Successfully generated: hello<span class="hljs-operator">-</span>world.ros
</code></pre><p>The output file ending with <code>.ros</code> will look like the following:</p>
<pre><code class="lang-lisp">#!/bin/sh
#|-*- mode:lisp -*-|#
#|
exec ros -Q -- $0 "$@"
|#
(progn ;;init forms
  (ros:ensure-asdf)
  #+quicklisp(ql:quickload '() :silent t)
  )

(defpackage :ros.script.hello-world.3848003839
  (:use :cl))
(in-package :ros.script.hello-world.3848003839)

(defun main (&amp;rest argv)
  (declare (ignorable argv)))
;;; vim: set ft=lisp lisp:
</code></pre>
<p>It will be bewildering at first, so let's take a look at what it does, part by part.</p>
<h3 id="heading-line-1-5-hack-to-make-the-startup-portable">Line 1-5: Hack to make the startup portable</h3>
<p>The first 5 lines are for hacking to make the startup process portable. You don't need to know how these lines work, but I'm writing this just for curious people.</p>
<pre><code class="lang-shell">#!/bin/sh
#|-*- mode:lisp -*-|#
#|
exec ros -Q -- $0 "$@"
|#
</code></pre>
<p>The terminal reads the first line as its shebang and launches the program with <code>/bin/sh</code>. <code>#</code> is a comment in the shell, so the 2-3 lines are skipped. Next, the shell comes to the <code>exec ros</code> line and finally invokes <code>ros</code>.</p>
<p>The second launch is with <code>ros</code>. <code>ros</code> will skip the first shebang. Also, inside of <code>#|</code> to<code>|#</code> will be ignored since it's a multi-line comment in Common Lisp. Then, execute the code below as Common Lisp.</p>
<h3 id="heading-line-6-9-initial-forms">Line 6-9: Initial forms</h3>
<p>Lines 6 to 9 are the place to write the code for initialization.</p>
<pre><code class="lang-lisp">(progn ;;init forms
  (ros:ensure-asdf)
  #+quicklisp(ql:quickload '() :silent t)
  )
</code></pre>
<p>Mainly, this is for loading external libraries.</p>
<p>I asked the Roswell author, <a target="_blank" href="https://github.com/snmsts">@snmsts</a>, something like, "Is there any significance to write external dependencies here?" He said, "I think it would be treated special when it's built to the binary, but I don't remember much. That is for fast startup, maybe?"</p>
<p>After some investigation, he found it didn't work as intended. Nowadays, it seems to remain merely a good manner to list all dependencies in one place.</p>
<h3 id="heading-after-line-10-main-part">After Line 10: Main part</h3>
<p>The rest of the file is a normal Common Lisp program.</p>
<pre><code class="lang-lisp">(defpackage :ros.script.hello-world.3848003839
  (:use :cl))
(in-package :ros.script.hello-world.3848003839)

(defun main (&amp;rest argv)
  (declare (ignorable argv)))
</code></pre>
<p>The <code>main</code> function is always required. It will be the entry function when the Roswell script is executed. It takes command-line arguments as a list of strings.</p>
<p>There are no restrictions on defining other functions and so on. This part can be written like a regular program.</p>
<h2 id="heading-benefits-of-roswell-script">Benefits of Roswell script</h2>
<p>Why should you write a script in a Roswell manner? There are 3 benefits to writing Roswell scripts.</p>
<p>First of all, the Roswell script is independent of Lisp implementations. <code>sbcl --script</code> obviously doesn't work other than SBCL; however, the Roswell script works every Lisp supported by Roswell.</p>
<p>The second benefit is automatic script installation with <code>ros install</code>.</p>
<p>I introduced <code>ros install</code> in "Day 2", which is for installing Common Lisp applications/libraries. Not only placing files, but also it treats Roswell scripts special. When the application has a directory named <code>roswell</code>, copy all scripts under it into <code>~/.roswell/bin</code>. This is the reason why you can use the <code>qlot</code> command right after running <code>ros install fukamachi/qlot</code>.</p>
<p>The last one is binary-build.</p>
<p>Roswell scripts can be built as a binary by running <code>ros build</code>. It can be a boon as it skips reading a file, compilations, and loading external libraries.</p>
<p>To summarize,</p>
<ul>
<li>Lisp implementation portable</li>
<li>Automatic installation with <code>ros install</code></li>
<li>Allow building a binary with <code>ros build</code></li>
</ul>
<p>These benefits make it the perfect way to distribute a general-purpose application and provide its command-line interface.</p>
<h2 id="heading-examples">Examples</h2>
<p>At last, I introduce the real examples of Roswell scripts. See inside <code>~/.roswell</code> directory of those projects.</p>
<ul>
<li><a target="_blank" href="https://github.com/fukamachi/qlot">Qlot</a><ul>
<li>A project-local library installer</li>
<li>Provides <code>qlot</code> command to install/update project dependencies and utilize them.</li>
</ul>
</li>
<li><a target="_blank" href="https://github.com/fukamachi/clack">Clack</a><ul>
<li>Web server abstraction layer</li>
<li>Provides <code>clackup</code> command to start a web application.</li>
</ul>
</li>
<li><a target="_blank" href="https://github.com/lem-project/lem">lem</a><ul>
<li>Common Lisp editor/IDE with high expansibility</li>
<li>Provides <code>lem</code> command to start an editor.</li>
</ul>
</li>
</ul>
</div></div></div></section></div><div class="absolute h-px w-px overflow-hidden" id="refNode1" style="top:100px;left:100px">¬†</div><div class="absolute top-0 left-0 h-px w-px overflow-hidden" id="refNode2"></div><div class="absolute z-50 mt-4 hidden"><div class="flex flex-row items-center rounded-lg border border-slate-300 bg-white p-4 text-slate-800 shadow-lg dark:border-white dark:bg-slate-800 dark:text-slate-300"><span class="mr-3 block">Share this</span><a href="https://twitter.com/share?url=https%3A%2F%2Ffukamachi.hashnode.dev%2Fday-3-roswell-common-lisp-scripting&amp;text=%20%40fukamachi" class="rounded-full border border-transparent py-1 font-medium hover:bg-slate-200 disabled:opacity-50 hover:dark:bg-slate-700 flex flex-row items-center focus:outline-none px-2 text-sm text-twt-variant dark:text-twt-variant" variant="transparent" target="_blank" rel="noopener"><svg class="h-6 w-6 fill-current" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a href="http://www.reddit.com/submit?title=Day%203%3A%20Roswell%3A%20Common%20Lisp%20scripting&amp;selftext=true&amp;text=%20https%3A%2F%2Ffukamachi.hashnode.dev%2Fday-3-roswell-common-lisp-scripting" class="rounded-full border border-transparent py-1 font-medium hover:bg-slate-200 disabled:opacity-50 hover:dark:bg-slate-700 flex flex-row items-center focus:outline-none px-2 text-sm text-red-600 dark:text-red-600" variant="transparent" target="_blank" rel="noopener"><svg class="h-6 w-6 fill-current" viewBox="0 0 512 512"><path d="M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"></path></svg></a><button class="rounded-full border border-transparent py-1 font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-200 disabled:opacity-50 hover:dark:bg-slate-700 flex flex-row items-center focus:outline-none px-2 text-sm" type="button" variant="transparent" data-clipboard-text=" https://fukamachi.hashnode.dev/day-3-roswell-common-lisp-scripting" id="text-sharer"><svg class="h-6 w-6 fill-current" viewBox="0 0 384 512"><path d="M336 64h-88.6c.4-2.6.6-5.3.6-8 0-30.9-25.1-56-56-56s-56 25.1-56 56c0 2.7.2 5.4.6 8H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 32c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm160 432c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16h48v20c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12V96h48c8.8 0 16 7.2 16 16z"></path></svg></button></div></div><div class="container relative z-20 mx-auto grid grid-flow-row grid-cols-8 xl:gap-6 2xl:grid-cols-10"><div class="blog-comments-section-wrapper col-span-8 px-4 lg:col-span-6 lg:col-start-2 lg:px-0 xl:col-span-6 xl:col-start-2 2xl:col-span-6 2xl:col-start-3"></div></div></article></main></div></div></div><script type="text/javascript">
              var SUPPORTS_PASSIVE = false;
              try {
                var opts = Object.defineProperty({}, 'passive', {
                  get: function() {
                    SUPPORTS_PASSIVE = true;
                  }
                });
                window.addEventListener("testPassive", null, opts);
                window.removeEventListener("testPassive", null, opts);
              } catch (e) {}
            </script><script type="text/javascript">
              // Array.prototype.flat polyfill
              if (!Array.prototype.flat) {
                // eslint-disable-next-line no-extend-native
                Object.defineProperty(Array.prototype, 'flat', {
                  configurable: true,
                  writable: true,
                  value() {
                    // eslint-disable-next-line prefer-rest-params
                    const depth = typeof arguments[0] === 'undefined' ? 1 : Number(arguments[0]) || 0;
                    const result = [];
                    const { forEach } = result;

                    // eslint-disable-next-line no-var
                    var flatDeep = function (arr, depth) {
                      forEach.call(arr, (val) => {
                        if (depth > 0 && Array.isArray(val)) {
                          flatDeep(val, depth - 1);
                        } else {
                          result.push(val);
                        }
                      });
                    };

                    flatDeep(this, depth);
                    return result;
                  },
                });
              }
            </script><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":"{\"_id\":\"61d3d6af46e56e75ab372f13\",\"reward\":{\"type\":\"xlm\"},\"sourcedFromGithub\":false,\"isAnonymous\":false,\"views\":2223,\"slugOverridden\":false,\"coverImage\":\"\",\"autoGeneratedCover\":\"https://hcti.io/v1/image/9036238b-3d3d-40ad-a399-8a6b6d3a5bb8\",\"brief\":\"Hi, all Common Lispers.üéä And, happy new year in 2022! üéç\\nI'm happy that you came to this blog again this year üòÜ\\nI explained how to install Lisp implementations, libraries, and applications with Roswell until the previous article.\\n\\nDay 2: Roswell: I...\",\"content\":\"\u003cp\u003eHi, all Common Lispers.\u003cbr /\u003eüéä And, happy new year in 2022! üéç\u003c/p\u003e\\n\u003cp\u003eI'm happy that you came to this blog again this year üòÜ\u003c/p\u003e\\n\u003cp\u003eI explained how to install Lisp implementations, libraries, and applications with Roswell until the previous article.\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003ca target=\\\"_blank\\\" href=\\\"https://fukamachi.hashnode.dev/day-2-roswell-install-libraries-and-applications\\\"\u003eDay 2: Roswell: Install libraries/applications\u003c/a\u003e\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cp\u003eToday, I can finally introduce a different aspect of \u003ca target=\\\"_blank\\\" href=\\\"https://github.com/roswell/roswell\\\"\u003eRoswell\u003c/a\u003e -- as a scripting supporter.\u003c/p\u003e\\n\u003ch2 id=\\\"heading-scripting-in-common-lisp-world\\\"\u003eScripting in Common Lisp world\u003c/h2\u003e\\n\u003cp\u003eLet's think about writing a script in Common Lisp.\u003c/p\u003e\\n\u003cp\u003eIt has to accept input as a shell command, execute some code, and quit.\u003c/p\u003e\\n\u003cp\u003eHow to achieve it in the REPL first language? In SBCL, the \u003ccode\u003e--script\u003c/code\u003e option is just for it.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"lang-shell\\\"\u003e$ sbcl --script hello.lisp\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eUsing this in shebang, it works as a shell command.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"lang-shell\\\"\u003e#!/usr/local/bin/sbcl --script\\n\\n(write-line \\\"Hello, World!\\\")\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eSave this code as a \\\"hello.lisp\\\" file and give it execute permission.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode\u003e$ ./hello.lisp\\nHello, World\u003cspan class=\\\"hljs-operator\\\"\u003e!\u003c/span\u003e\\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eGood work. But, this requires SBCL to be installed at \\\"/usr/local/bin/sbcl\\\". If it's installed at the other location, the shell raises an error:\u003c/p\u003e\\n\u003cpre\u003e\u003ccode\u003e$ ./hello.lisp\\n\u003cspan class=\\\"hljs-operator\\\"\u003e-\u003c/span\u003ebash: ./hello.lisp: \u003cspan class=\\\"hljs-operator\\\"\u003e/\u003c/span\u003eusr\u003cspan class=\\\"hljs-operator\\\"\u003e/\u003c/span\u003elocal\u003cspan class=\\\"hljs-operator\\\"\u003e/\u003c/span\u003ebin\u003cspan class=\\\"hljs-operator\\\"\u003e/\u003c/span\u003esbcl: bad interpreter: No such file or directory\\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis problem is not limited to Common Lisp but also in Python, Ruby, and other languages. A standard solution is to rewrite shebang using \u003ccode\u003e/usr/bin/env\u003c/code\u003e.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"lang-shell\\\"\u003e#!/usr/bin/env -S sbcl --script\\n\\n(write-line \\\"Hello, World!\\\")\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eThe \u003ccode\u003e-S\u003c/code\u003e option is specified to make \u003ccode\u003e/usr/bin/env\u003c/code\u003e accept options. If you don't specify it, an error will occur trying to find the program named \\\"sbcl --script\\\".\u003c/p\u003e\\n\u003cp\u003eCommand-line arguments can be accessed via \u003ccode\u003esb-ext:*posix-argv*\u003c/code\u003e. Looks good, huh?\u003c/p\u003e\\n\u003ch2 id=\\\"heading-is-it-portable-enough\\\"\u003eIs it portable enough?\u003c/h2\u003e\\n\u003cp\u003eOf course, this only works with SBCL, but it's not so bad for UNIX-like OSes where SBCL is installed. Not often, but I use this method in Docker containers.\u003c/p\u003e\\n\u003cp\u003eHowever, what if you want to write a Common Lisp application with a command-line interface that is supposed to run in various environments. Is the SBCL script portable enough?\u003c/p\u003e\\n\u003cp\u003eFirst of all, it's not easy to load libraries via Quicklisp. Because \u003ccode\u003esbcl --script\u003c/code\u003e doesn't read \u003ccode\u003e.sbclrc\u003c/code\u003e, and don't load Quicklisp even if it's installed.\u003c/p\u003e\\n\u003cp\u003eBesides, it also becomes more difficult if you are aiming for a general-purpose script, such as if you want to run it on other implementations or if you want to support Windows.\u003c/p\u003e\\n\u003ch2 id=\\\"heading-roswell-script\\\"\u003eRoswell Script\u003c/h2\u003e\\n\u003cp\u003e\\\"Roswell script\\\" is a good option in that case.\u003c/p\u003e\\n\u003cp\u003eStart writing a Roswell script that outputs \\\"Hello, World!\\\". \u003ccode\u003eros init\u003c/code\u003e is a command to create a template for a Roswell script.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode\u003e$ ros init hello\u003cspan class=\\\"hljs-operator\\\"\u003e-\u003c/span\u003eworld\\nSuccessfully generated: hello\u003cspan class=\\\"hljs-operator\\\"\u003e-\u003c/span\u003eworld.ros\\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe output file ending with \u003ccode\u003e.ros\u003c/code\u003e will look like the following:\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"lang-lisp\\\"\u003e#!/bin/sh\\n#|-*- mode:lisp -*-|#\\n#|\\nexec ros -Q -- $0 \\\"$@\\\"\\n|#\\n(progn ;;init forms\\n  (ros:ensure-asdf)\\n  #+quicklisp(ql:quickload '() :silent t)\\n  )\\n\\n(defpackage :ros.script.hello-world.3848003839\\n  (:use :cl))\\n(in-package :ros.script.hello-world.3848003839)\\n\\n(defun main (\u0026amp;rest argv)\\n  (declare (ignorable argv)))\\n;;; vim: set ft=lisp lisp:\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eIt will be bewildering at first, so let's take a look at what it does, part by part.\u003c/p\u003e\\n\u003ch3 id=\\\"heading-line-1-5-hack-to-make-the-startup-portable\\\"\u003eLine 1-5: Hack to make the startup portable\u003c/h3\u003e\\n\u003cp\u003eThe first 5 lines are for hacking to make the startup process portable. You don't need to know how these lines work, but I'm writing this just for curious people.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"lang-shell\\\"\u003e#!/bin/sh\\n#|-*- mode:lisp -*-|#\\n#|\\nexec ros -Q -- $0 \\\"$@\\\"\\n|#\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eThe terminal reads the first line as its shebang and launches the program with \u003ccode\u003e/bin/sh\u003c/code\u003e. \u003ccode\u003e#\u003c/code\u003e is a comment in the shell, so the 2-3 lines are skipped. Next, the shell comes to the \u003ccode\u003eexec ros\u003c/code\u003e line and finally invokes \u003ccode\u003eros\u003c/code\u003e.\u003c/p\u003e\\n\u003cp\u003eThe second launch is with \u003ccode\u003eros\u003c/code\u003e. \u003ccode\u003eros\u003c/code\u003e will skip the first shebang. Also, inside of \u003ccode\u003e#|\u003c/code\u003e to\u003ccode\u003e|#\u003c/code\u003e will be ignored since it's a multi-line comment in Common Lisp. Then, execute the code below as Common Lisp.\u003c/p\u003e\\n\u003ch3 id=\\\"heading-line-6-9-initial-forms\\\"\u003eLine 6-9: Initial forms\u003c/h3\u003e\\n\u003cp\u003eLines 6 to 9 are the place to write the code for initialization.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"lang-lisp\\\"\u003e(progn ;;init forms\\n  (ros:ensure-asdf)\\n  #+quicklisp(ql:quickload '() :silent t)\\n  )\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eMainly, this is for loading external libraries.\u003c/p\u003e\\n\u003cp\u003eI asked the Roswell author, \u003ca target=\\\"_blank\\\" href=\\\"https://github.com/snmsts\\\"\u003e@snmsts\u003c/a\u003e, something like, \\\"Is there any significance to write external dependencies here?\\\" He said, \\\"I think it would be treated special when it's built to the binary, but I don't remember much. That is for fast startup, maybe?\\\"\u003c/p\u003e\\n\u003cp\u003eAfter some investigation, he found it didn't work as intended. Nowadays, it seems to remain merely a good manner to list all dependencies in one place.\u003c/p\u003e\\n\u003ch3 id=\\\"heading-after-line-10-main-part\\\"\u003eAfter Line 10: Main part\u003c/h3\u003e\\n\u003cp\u003eThe rest of the file is a normal Common Lisp program.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"lang-lisp\\\"\u003e(defpackage :ros.script.hello-world.3848003839\\n  (:use :cl))\\n(in-package :ros.script.hello-world.3848003839)\\n\\n(defun main (\u0026amp;rest argv)\\n  (declare (ignorable argv)))\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eThe \u003ccode\u003emain\u003c/code\u003e function is always required. It will be the entry function when the Roswell script is executed. It takes command-line arguments as a list of strings.\u003c/p\u003e\\n\u003cp\u003eThere are no restrictions on defining other functions and so on. This part can be written like a regular program.\u003c/p\u003e\\n\u003ch2 id=\\\"heading-benefits-of-roswell-script\\\"\u003eBenefits of Roswell script\u003c/h2\u003e\\n\u003cp\u003eWhy should you write a script in a Roswell manner? There are 3 benefits to writing Roswell scripts.\u003c/p\u003e\\n\u003cp\u003eFirst of all, the Roswell script is independent of Lisp implementations. \u003ccode\u003esbcl --script\u003c/code\u003e obviously doesn't work other than SBCL; however, the Roswell script works every Lisp supported by Roswell.\u003c/p\u003e\\n\u003cp\u003eThe second benefit is automatic script installation with \u003ccode\u003eros install\u003c/code\u003e.\u003c/p\u003e\\n\u003cp\u003eI introduced \u003ccode\u003eros install\u003c/code\u003e in \\\"Day 2\\\", which is for installing Common Lisp applications/libraries. Not only placing files, but also it treats Roswell scripts special. When the application has a directory named \u003ccode\u003eroswell\u003c/code\u003e, copy all scripts under it into \u003ccode\u003e~/.roswell/bin\u003c/code\u003e. This is the reason why you can use the \u003ccode\u003eqlot\u003c/code\u003e command right after running \u003ccode\u003eros install fukamachi/qlot\u003c/code\u003e.\u003c/p\u003e\\n\u003cp\u003eThe last one is binary-build.\u003c/p\u003e\\n\u003cp\u003eRoswell scripts can be built as a binary by running \u003ccode\u003eros build\u003c/code\u003e. It can be a boon as it skips reading a file, compilations, and loading external libraries.\u003c/p\u003e\\n\u003cp\u003eTo summarize,\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003eLisp implementation portable\u003c/li\u003e\\n\u003cli\u003eAutomatic installation with \u003ccode\u003eros install\u003c/code\u003e\u003c/li\u003e\\n\u003cli\u003eAllow building a binary with \u003ccode\u003eros build\u003c/code\u003e\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cp\u003eThese benefits make it the perfect way to distribute a general-purpose application and provide its command-line interface.\u003c/p\u003e\\n\u003ch2 id=\\\"heading-examples\\\"\u003eExamples\u003c/h2\u003e\\n\u003cp\u003eAt last, I introduce the real examples of Roswell scripts. See inside \u003ccode\u003e~/.roswell\u003c/code\u003e directory of those projects.\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003ca target=\\\"_blank\\\" href=\\\"https://github.com/fukamachi/qlot\\\"\u003eQlot\u003c/a\u003e\u003cul\u003e\\n\u003cli\u003eA project-local library installer\u003c/li\u003e\\n\u003cli\u003eProvides \u003ccode\u003eqlot\u003c/code\u003e command to install/update project dependencies and utilize them.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003ca target=\\\"_blank\\\" href=\\\"https://github.com/fukamachi/clack\\\"\u003eClack\u003c/a\u003e\u003cul\u003e\\n\u003cli\u003eWeb server abstraction layer\u003c/li\u003e\\n\u003cli\u003eProvides \u003ccode\u003eclackup\u003c/code\u003e command to start a web application.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003ca target=\\\"_blank\\\" href=\\\"https://github.com/lem-project/lem\\\"\u003elem\u003c/a\u003e\u003cul\u003e\\n\u003cli\u003eCommon Lisp editor/IDE with high expansibility\u003c/li\u003e\\n\u003cli\u003eProvides \u003ccode\u003elem\u003c/code\u003e command to start an editor.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003c/li\u003e\\n\u003c/ul\u003e\\n\",\"contentMarkdown\":\"Hi, all Common Lispers.  \\nüéä And, happy new year in 2022! üéç\\n\\nI'm happy that you came to this blog again this year üòÜ\\n\\nI explained how to install Lisp implementations, libraries, and applications with Roswell until the previous article.\\n\\n* [Day 2: Roswell: Install libraries/applications](https://fukamachi.hashnode.dev/day-2-roswell-install-libraries-and-applications)\\n\\nToday, I can finally introduce a different aspect of [Roswell](https://github.com/roswell/roswell) -- as a scripting supporter.\\n\\n## Scripting in Common Lisp world\\n\\nLet's think about writing a script in Common Lisp.\\n\\nIt has to accept input as a shell command, execute some code, and quit.\\n\\nHow to achieve it in the REPL first language? In SBCL, the `--script` option is just for it.\\n\\n```shell\\n$ sbcl --script hello.lisp\\n```\\n\\nUsing this in shebang, it works as a shell command.\\n\\n```shell\\n#!/usr/local/bin/sbcl --script\\n\\n(write-line \\\"Hello, World!\\\")\\n```\\n\\nSave this code as a \\\"hello.lisp\\\" file and give it execute permission.\\n\\n```\\n$ ./hello.lisp\\nHello, World!\\n```\\n\\nGood work. But, this requires SBCL to be installed at \\\"/usr/local/bin/sbcl\\\". If it's installed at the other location, the shell raises an error:\\n\\n```\\n$ ./hello.lisp\\n-bash: ./hello.lisp: /usr/local/bin/sbcl: bad interpreter: No such file or directory\\n```\\n\\nThis problem is not limited to Common Lisp but also in Python, Ruby, and other languages. A standard solution is to rewrite shebang using `/usr/bin/env`.\\n\\n```shell\\n#!/usr/bin/env -S sbcl --script\\n\\n(write-line \\\"Hello, World!\\\")\\n```\\n\\nThe `-S` option is specified to make `/usr/bin/env` accept options. If you don't specify it, an error will occur trying to find the program named \\\"sbcl --script\\\".\\n\\nCommand-line arguments can be accessed via `sb-ext:*posix-argv*`. Looks good, huh?\\n\\n## Is it portable enough?\\n\\nOf course, this only works with SBCL, but it's not so bad for UNIX-like OSes where SBCL is installed. Not often, but I use this method in Docker containers.\\n\\nHowever, what if you want to write a Common Lisp application with a command-line interface that is supposed to run in various environments. Is the SBCL script portable enough?\\n\\nFirst of all, it's not easy to load libraries via Quicklisp. Because `sbcl --script` doesn't read `.sbclrc`, and don't load Quicklisp even if it's installed.\\n\\nBesides, it also becomes more difficult if you are aiming for a general-purpose script, such as if you want to run it on other implementations or if you want to support Windows.\\n\\n## Roswell Script\\n\\n\\\"Roswell script\\\" is a good option in that case.\\n\\nStart writing a Roswell script that outputs \\\"Hello, World!\\\". `ros init` is a command to create a template for a Roswell script.\\n\\n```\\n$ ros init hello-world\\nSuccessfully generated: hello-world.ros\\n```\\n\\nThe output file ending with `.ros` will look like the following:\\n\\n```lisp\\n#!/bin/sh\\n#|-*- mode:lisp -*-|#\\n#|\\nexec ros -Q -- $0 \\\"$@\\\"\\n|#\\n(progn ;;init forms\\n  (ros:ensure-asdf)\\n  #+quicklisp(ql:quickload '() :silent t)\\n  )\\n\\n(defpackage :ros.script.hello-world.3848003839\\n  (:use :cl))\\n(in-package :ros.script.hello-world.3848003839)\\n\\n(defun main (\u0026rest argv)\\n  (declare (ignorable argv)))\\n;;; vim: set ft=lisp lisp:\\n```\\n\\nIt will be bewildering at first, so let's take a look at what it does, part by part.\\n\\n### Line 1-5: Hack to make the startup portable\\n\\nThe first 5 lines are for hacking to make the startup process portable. You don't need to know how these lines work, but I'm writing this just for curious people.\\n\\n```shell\\n#!/bin/sh\\n#|-*- mode:lisp -*-|#\\n#|\\nexec ros -Q -- $0 \\\"$@\\\"\\n|#\\n```\\n\\nThe terminal reads the first line as its shebang and launches the program with `/bin/sh`. `#` is a comment in the shell, so the 2-3 lines are skipped. Next, the shell comes to the `exec ros` line and finally invokes `ros`.\\n\\nThe second launch is with `ros`. `ros` will skip the first shebang. Also, inside of `#|` to`|#` will be ignored since it's a multi-line comment in Common Lisp. Then, execute the code below as Common Lisp.\\n\\n### Line 6-9: Initial forms\\n\\nLines 6 to 9 are the place to write the code for initialization.\\n\\n```lisp\\n(progn ;;init forms\\n  (ros:ensure-asdf)\\n  #+quicklisp(ql:quickload '() :silent t)\\n  )\\n```\\n\\nMainly, this is for loading external libraries.\\n\\nI asked the Roswell author, [@snmsts](https://github.com/snmsts), something like, \\\"Is there any significance to write external dependencies here?\\\" He said, \\\"I think it would be treated special when it's built to the binary, but I don't remember much. That is for fast startup, maybe?\\\"\\n\\nAfter some investigation, he found it didn't work as intended. Nowadays, it seems to remain merely a good manner to list all dependencies in one place.\\n\\n### After Line 10: Main part\\n\\nThe rest of the file is a normal Common Lisp program.\\n\\n```lisp\\n(defpackage :ros.script.hello-world.3848003839\\n  (:use :cl))\\n(in-package :ros.script.hello-world.3848003839)\\n\\n(defun main (\u0026rest argv)\\n  (declare (ignorable argv)))\\n```\\n\\nThe `main` function is always required. It will be the entry function when the Roswell script is executed. It takes command-line arguments as a list of strings.\\n\\nThere are no restrictions on defining other functions and so on. This part can be written like a regular program.\\n\\n## Benefits of Roswell script\\n\\nWhy should you write a script in a Roswell manner? There are 3 benefits to writing Roswell scripts.\\n\\nFirst of all, the Roswell script is independent of Lisp implementations. `sbcl --script` obviously doesn't work other than SBCL; however, the Roswell script works every Lisp supported by Roswell.\\n\\nThe second benefit is automatic script installation with `ros install`.\\n\\nI introduced `ros install` in \\\"Day 2\\\", which is for installing Common Lisp applications/libraries. Not only placing files, but also it treats Roswell scripts special. When the application has a directory named `roswell`, copy all scripts under it into `~/.roswell/bin`. This is the reason why you can use the `qlot` command right after running `ros install fukamachi/qlot`.\\n\\nThe last one is binary-build.\\n\\nRoswell scripts can be built as a binary by running `ros build`. It can be a boon as it skips reading a file, compilations, and loading external libraries.\\n\\nTo summarize,\\n\\n* Lisp implementation portable\\n* Automatic installation with `ros install`\\n* Allow building a binary with `ros build`\\n\\nThese benefits make it the perfect way to distribute a general-purpose application and provide its command-line interface.\\n\\n## Examples\\n\\nAt last, I introduce the real examples of Roswell scripts. See inside `~/.roswell` directory of those projects.\\n\\n* [Qlot](https://github.com/fukamachi/qlot)\\n  * A project-local library installer\\n  * Provides `qlot` command to install/update project dependencies and utilize them.\\n* [Clack](https://github.com/fukamachi/clack)\\n  * Web server abstraction layer\\n  * Provides `clackup` command to start a web application.\\n* [lem](https://github.com/lem-project/lem)\\n  * Common Lisp editor/IDE with high expansibility\\n  * Provides `lem` command to start an editor.\",\"hasPolls\":false,\"totalPollVotes\":0,\"upvotes\":0,\"downvotes\":0,\"tags\":[],\"untaggedFrom\":[],\"popularity\":5162.3277,\"responseCount\":0,\"replyCount\":0,\"followers\":[],\"isActive\":true,\"isFeatured\":false,\"isEngaging\":false,\"answeredByTarget\":false,\"isDelisted\":false,\"isNotified\":false,\"duplicatePosts\":[],\"numCollapsed\":0,\"hasReward\":false,\"bookmarkedIn\":[],\"reactions\":[\"5c090d96c2a9c2a674d35484\",\"567453d0b73d6a82ac8c5ab9\",\"5d9dd859f31791c942dc5b52\"],\"totalReactions\":9,\"reactionsByCurrentUser\":[],\"isPinnedToBlog\":false,\"disableComments\":true,\"commentsPaused\":false,\"hasLatex\":true,\"syncAlgolia\":true,\"enableToc\":false,\"toc\":[],\"numUniqueUsersWhoReacted\":0,\"title\":\"Day 3: Roswell: Common Lisp scripting\",\"subtitle\":\"\",\"type\":\"story\",\"coverImageAttribution\":\"\",\"coverImagePhotographer\":\"\",\"isCoverAttributionHidden\":false,\"ogImage\":\"\",\"metaTitle\":\"\",\"metaDescription\":\"\",\"isRepublished\":false,\"originalArticleURL\":\"\",\"partOfPublication\":true,\"publication\":{\"_id\":\"616bb48f441bd36daa95632f\",\"betaFeatures\":{\"newsletter\":false,\"embeds\":false,\"csvImport\":false,\"customCSS\":false,\"githubAsSource\":false,\"payments\":false,\"rssIntegration\":false},\"views\":{\"today\":0,\"thisWeek\":152,\"lastWeek\":255,\"thisMonth\":1008,\"allTime\":27244},\"stripe\":{\"connected\":false},\"numFollowers\":0,\"badgePageEnabled\":false,\"newsletterEnabled\":false,\"audioBlogEnabled\":false,\"textSelectionSharerEnabled\":true,\"newsletterFrequency\":\"asap\",\"staticPages\":[],\"isFeatured\":false,\"dailyViewsForCurrentMonth\":{\"1690416000\":45,\"1690502400\":26,\"1690588800\":23,\"1690675200\":32,\"1690761600\":42,\"1690848000\":41,\"1690934400\":25,\"1691020800\":30,\"1691107200\":39,\"1691193600\":34,\"1691280000\":42,\"1691366400\":29,\"1691452800\":23,\"1691539200\":22,\"1691625600\":59,\"1691712000\":41,\"1691798400\":48,\"1691884800\":26,\"1691971200\":23,\"1692057600\":56,\"1692144000\":32,\"1692230400\":64,\"1692316800\":32,\"1692403200\":22,\"1692489600\":17,\"1692576000\":36,\"1692662400\":17,\"1692748800\":24,\"1692835200\":35,\"1692921600\":23},\"viewCountVisible\":false,\"readTimeHidden\":false,\"customCSSEnabled\":false,\"domainChecklistSkipped\":false,\"author\":{\"_id\":\"616bb437b636526db5f48a3d\",\"socialMedia\":{\"twitter\":\"https://twitter.com/nitro_idiot\",\"github\":\"https://github.com/fukamachi\",\"stackoverflow\":\"\",\"facebook\":\"\",\"website\":\"https://8arrow.org\",\"linkedin\":\"\"},\"location\":\"Tokyo, Japan\",\"isBanned\":false,\"isDeactivated\":false,\"numFollowers\":52,\"numFollowing\":0,\"storiesCreated\":[],\"totalUpvotesReceived\":0,\"tagManagerOf\":[],\"isEvangelist\":false,\"isAmbassador\":false,\"hasGoldRing\":false,\"name\":\"Eitaro Fukamachi\",\"username\":\"fukamachi\",\"tagline\":\"Web app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\",\"photo\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1634610053413/8knI165Ro.jpeg\",\"dateJoined\":\"2021-10-17T05:27:19.815Z\",\"publicationDomain\":\"\",\"bio\":\"\",\"numPosts\":20,\"numReactions\":59},\"isActive\":true,\"username\":\"fukamachi\",\"domain\":\"\",\"urlPattern\":\"simple\",\"title\":\"fukamachi tech notes\",\"links\":{\"twitter\":\"https://twitter.com/nitro_idiot\",\"github\":\"https://github.com/fukamachi\",\"website\":\"https://8arrow.org\",\"hashnode\":\"https://hashnode.com/@fukamachi\",\"youtube\":\"\",\"dailydev\":\"\",\"linkedin\":\"\"},\"domainStatus\":{\"ready\":false,\"certIssued\":false},\"domainUpdatedOn\":\"2021-10-17T05:28:47.724Z\",\"customRules\":[],\"menu\":[],\"__v\":0,\"imprint\":\"\",\"imprintMarkdown\":\"\",\"meta\":\"Web app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\",\"metaHTML\":\"\u003cp\u003eWeb app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\u003c/p\u003e\\n\",\"hasBadges\":true,\"umamiWebsiteUUID\":\"717b8d5d-07d8-48fb-9ecc-46bb1f382cf1\",\"umamiDataImported\":true,\"metaHTMLSanitized\":\"Web app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\\n\",\"numPosts\":9},\"slug\":\"day-3-roswell-common-lisp-scripting\",\"importedFromMedium\":false,\"dateAdded\":\"2022-01-04T05:10:07.093Z\",\"hasCustomDate\":false,\"stickCoverToBottom\":false,\"pollOptions\":[],\"badges\":[],\"questionReplies\":[],\"contributors\":[],\"cuid\":\"ckxznkldt01ph8rs10cyqdqsz\",\"author\":{\"_id\":\"616bb437b636526db5f48a3d\",\"socialMedia\":{\"twitter\":\"https://twitter.com/nitro_idiot\",\"github\":\"https://github.com/fukamachi\",\"stackoverflow\":\"\",\"facebook\":\"\",\"website\":\"https://8arrow.org\",\"linkedin\":\"\"},\"location\":\"Tokyo, Japan\",\"isBanned\":false,\"isDeactivated\":false,\"numFollowers\":52,\"numFollowing\":0,\"storiesCreated\":[],\"totalUpvotesReceived\":0,\"tagManagerOf\":[],\"isEvangelist\":false,\"isAmbassador\":false,\"hasGoldRing\":false,\"name\":\"Eitaro Fukamachi\",\"username\":\"fukamachi\",\"tagline\":\"Web app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\",\"photo\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1634610053413/8knI165Ro.jpeg\",\"dateJoined\":\"2021-10-17T05:27:19.815Z\",\"publicationDomain\":\"\",\"bio\":\"\",\"numPosts\":20,\"numReactions\":59},\"followersCount\":1,\"hasPinnedTag\":false,\"readTime\":5,\"__v\":0,\"viewsUpdatedOn\":1692909032852,\"series\":null,\"dateUpdated\":\"2022-01-04T23:56:29.152Z\",\"pendingPublicationApproval\":false,\"reactionToCountMap\":{\"reaction_5c090d96c2a9c2a674d35484\":4,\"reaction_567453d0b73d6a82ac8c5ab9\":1,\"reaction_5d9dd859f31791c942dc5b52\":1},\"hasTags\":false,\"isPartOfSeries\":false,\"responses\":[]}","publication":"{\"_id\":\"616bb48f441bd36daa95632f\",\"betaFeatures\":{\"newsletter\":false,\"embeds\":false,\"csvImport\":false,\"customCSS\":false,\"githubAsSource\":false,\"payments\":false,\"rssIntegration\":false},\"views\":{\"today\":0,\"thisWeek\":152,\"lastWeek\":255,\"thisMonth\":1008,\"allTime\":27244},\"stripe\":{\"connected\":false},\"numFollowers\":0,\"badgePageEnabled\":false,\"newsletterEnabled\":false,\"audioBlogEnabled\":false,\"textSelectionSharerEnabled\":true,\"newsletterFrequency\":\"asap\",\"staticPages\":[],\"isFeatured\":false,\"dailyViewsForCurrentMonth\":{\"1690416000\":45,\"1690502400\":26,\"1690588800\":23,\"1690675200\":32,\"1690761600\":42,\"1690848000\":41,\"1690934400\":25,\"1691020800\":30,\"1691107200\":39,\"1691193600\":34,\"1691280000\":42,\"1691366400\":29,\"1691452800\":23,\"1691539200\":22,\"1691625600\":59,\"1691712000\":41,\"1691798400\":48,\"1691884800\":26,\"1691971200\":23,\"1692057600\":56,\"1692144000\":32,\"1692230400\":64,\"1692316800\":32,\"1692403200\":22,\"1692489600\":17,\"1692576000\":36,\"1692662400\":17,\"1692748800\":24,\"1692835200\":35,\"1692921600\":23},\"viewCountVisible\":false,\"readTimeHidden\":false,\"customCSSEnabled\":false,\"domainChecklistSkipped\":false,\"author\":{\"_id\":\"616bb437b636526db5f48a3d\",\"socialMedia\":{\"twitter\":\"https://twitter.com/nitro_idiot\",\"github\":\"https://github.com/fukamachi\",\"stackoverflow\":\"\",\"facebook\":\"\",\"website\":\"https://8arrow.org\",\"linkedin\":\"\"},\"location\":\"Tokyo, Japan\",\"isBanned\":false,\"isDeactivated\":false,\"numFollowers\":52,\"numFollowing\":0,\"storiesCreated\":[],\"totalUpvotesReceived\":0,\"tagManagerOf\":[],\"isEvangelist\":false,\"isAmbassador\":false,\"hasGoldRing\":false,\"name\":\"Eitaro Fukamachi\",\"username\":\"fukamachi\",\"tagline\":\"Web app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\",\"photo\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1634610053413/8knI165Ro.jpeg\",\"dateJoined\":\"2021-10-17T05:27:19.815Z\",\"publicationDomain\":\"\",\"bio\":\"\",\"numPosts\":20,\"numReactions\":59},\"isActive\":true,\"username\":\"fukamachi\",\"domain\":\"\",\"urlPattern\":\"simple\",\"title\":\"fukamachi tech notes\",\"links\":{\"twitter\":\"https://twitter.com/nitro_idiot\",\"github\":\"https://github.com/fukamachi\",\"website\":\"https://8arrow.org\",\"hashnode\":\"https://hashnode.com/@fukamachi\",\"youtube\":\"\",\"dailydev\":\"\",\"linkedin\":\"\"},\"domainStatus\":{\"ready\":false,\"certIssued\":false},\"domainUpdatedOn\":\"2021-10-17T05:28:47.724Z\",\"customRules\":[],\"menu\":[],\"__v\":0,\"imprint\":\"\",\"imprintMarkdown\":\"\",\"meta\":\"Web app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\",\"metaHTML\":\"\u003cp\u003eWeb app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\u003c/p\u003e\\n\",\"hasBadges\":true,\"umamiWebsiteUUID\":\"717b8d5d-07d8-48fb-9ecc-46bb1f382cf1\",\"umamiDataImported\":true,\"metaHTMLSanitized\":\"Web app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\\n\",\"numPosts\":9}","totalUsersWhoLikedArticle":6,"responsesPage":1,"integrations":{"fbPixelID":null,"fathomSiteID":null,"fathomCustomDomainEnabled":null,"fathomCustomDomain":null,"hotjarSiteID":null,"matomoSiteID":null,"matomoURL":null,"gaTrackingID":null,"plausibleAnalyticsEnabled":null,"domainURL":"fukamachi.hashnode.dev"},"rootLayout":{"legacyPublicationJSON":"{\"_id\":\"616bb48f441bd36daa95632f\",\"betaFeatures\":{\"newsletter\":false,\"embeds\":false,\"csvImport\":false,\"customCSS\":false,\"githubAsSource\":false,\"payments\":false,\"rssIntegration\":false},\"views\":{\"today\":0,\"thisWeek\":152,\"lastWeek\":255,\"thisMonth\":1008,\"allTime\":27244},\"stripe\":{\"connected\":false},\"numFollowers\":0,\"badgePageEnabled\":false,\"newsletterEnabled\":false,\"audioBlogEnabled\":false,\"textSelectionSharerEnabled\":true,\"newsletterFrequency\":\"asap\",\"staticPages\":[],\"isFeatured\":false,\"dailyViewsForCurrentMonth\":{\"1690416000\":45,\"1690502400\":26,\"1690588800\":23,\"1690675200\":32,\"1690761600\":42,\"1690848000\":41,\"1690934400\":25,\"1691020800\":30,\"1691107200\":39,\"1691193600\":34,\"1691280000\":42,\"1691366400\":29,\"1691452800\":23,\"1691539200\":22,\"1691625600\":59,\"1691712000\":41,\"1691798400\":48,\"1691884800\":26,\"1691971200\":23,\"1692057600\":56,\"1692144000\":32,\"1692230400\":64,\"1692316800\":32,\"1692403200\":22,\"1692489600\":17,\"1692576000\":36,\"1692662400\":17,\"1692748800\":24,\"1692835200\":35,\"1692921600\":23},\"viewCountVisible\":false,\"readTimeHidden\":false,\"customCSSEnabled\":false,\"domainChecklistSkipped\":false,\"author\":{\"_id\":\"616bb437b636526db5f48a3d\",\"socialMedia\":{\"twitter\":\"https://twitter.com/nitro_idiot\",\"github\":\"https://github.com/fukamachi\",\"stackoverflow\":\"\",\"facebook\":\"\",\"website\":\"https://8arrow.org\",\"linkedin\":\"\"},\"location\":\"Tokyo, Japan\",\"isBanned\":false,\"isDeactivated\":false,\"numFollowers\":52,\"numFollowing\":0,\"storiesCreated\":[],\"totalUpvotesReceived\":0,\"tagManagerOf\":[],\"isEvangelist\":false,\"isAmbassador\":false,\"hasGoldRing\":false,\"name\":\"Eitaro Fukamachi\",\"username\":\"fukamachi\",\"tagline\":\"Web app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\",\"photo\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1634610053413/8knI165Ro.jpeg\",\"dateJoined\":\"2021-10-17T05:27:19.815Z\",\"publicationDomain\":\"\",\"bio\":\"\",\"numPosts\":20,\"numReactions\":59},\"isActive\":true,\"username\":\"fukamachi\",\"domain\":\"\",\"urlPattern\":\"simple\",\"title\":\"fukamachi tech notes\",\"links\":{\"twitter\":\"https://twitter.com/nitro_idiot\",\"github\":\"https://github.com/fukamachi\",\"website\":\"https://8arrow.org\",\"hashnode\":\"https://hashnode.com/@fukamachi\",\"youtube\":\"\",\"dailydev\":\"\",\"linkedin\":\"\"},\"domainStatus\":{\"ready\":false,\"certIssued\":false},\"domainUpdatedOn\":\"2021-10-17T05:28:47.724Z\",\"customRules\":[],\"menu\":[],\"__v\":0,\"imprint\":\"\",\"imprintMarkdown\":\"\",\"meta\":\"Web app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\",\"metaHTML\":\"\u003cp\u003eWeb app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\u003c/p\u003e\\n\",\"hasBadges\":true,\"umamiWebsiteUUID\":\"717b8d5d-07d8-48fb-9ecc-46bb1f382cf1\",\"umamiDataImported\":true,\"metaHTMLSanitized\":\"Web app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\\n\",\"numPosts\":9}","legacyPostJSON":"{\"_id\":\"61d3d6af46e56e75ab372f13\",\"reward\":{\"type\":\"xlm\"},\"sourcedFromGithub\":false,\"isAnonymous\":false,\"views\":2223,\"slugOverridden\":false,\"coverImage\":\"\",\"autoGeneratedCover\":\"https://hcti.io/v1/image/9036238b-3d3d-40ad-a399-8a6b6d3a5bb8\",\"brief\":\"Hi, all Common Lispers.üéä And, happy new year in 2022! üéç\\nI'm happy that you came to this blog again this year üòÜ\\nI explained how to install Lisp implementations, libraries, and applications with Roswell until the previous article.\\n\\nDay 2: Roswell: I...\",\"content\":\"\u003cp\u003eHi, all Common Lispers.\u003cbr /\u003eüéä And, happy new year in 2022! üéç\u003c/p\u003e\\n\u003cp\u003eI'm happy that you came to this blog again this year üòÜ\u003c/p\u003e\\n\u003cp\u003eI explained how to install Lisp implementations, libraries, and applications with Roswell until the previous article.\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003ca target=\\\"_blank\\\" href=\\\"https://fukamachi.hashnode.dev/day-2-roswell-install-libraries-and-applications\\\"\u003eDay 2: Roswell: Install libraries/applications\u003c/a\u003e\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cp\u003eToday, I can finally introduce a different aspect of \u003ca target=\\\"_blank\\\" href=\\\"https://github.com/roswell/roswell\\\"\u003eRoswell\u003c/a\u003e -- as a scripting supporter.\u003c/p\u003e\\n\u003ch2 id=\\\"heading-scripting-in-common-lisp-world\\\"\u003eScripting in Common Lisp world\u003c/h2\u003e\\n\u003cp\u003eLet's think about writing a script in Common Lisp.\u003c/p\u003e\\n\u003cp\u003eIt has to accept input as a shell command, execute some code, and quit.\u003c/p\u003e\\n\u003cp\u003eHow to achieve it in the REPL first language? In SBCL, the \u003ccode\u003e--script\u003c/code\u003e option is just for it.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"lang-shell\\\"\u003e$ sbcl --script hello.lisp\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eUsing this in shebang, it works as a shell command.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"lang-shell\\\"\u003e#!/usr/local/bin/sbcl --script\\n\\n(write-line \\\"Hello, World!\\\")\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eSave this code as a \\\"hello.lisp\\\" file and give it execute permission.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode\u003e$ ./hello.lisp\\nHello, World\u003cspan class=\\\"hljs-operator\\\"\u003e!\u003c/span\u003e\\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eGood work. But, this requires SBCL to be installed at \\\"/usr/local/bin/sbcl\\\". If it's installed at the other location, the shell raises an error:\u003c/p\u003e\\n\u003cpre\u003e\u003ccode\u003e$ ./hello.lisp\\n\u003cspan class=\\\"hljs-operator\\\"\u003e-\u003c/span\u003ebash: ./hello.lisp: \u003cspan class=\\\"hljs-operator\\\"\u003e/\u003c/span\u003eusr\u003cspan class=\\\"hljs-operator\\\"\u003e/\u003c/span\u003elocal\u003cspan class=\\\"hljs-operator\\\"\u003e/\u003c/span\u003ebin\u003cspan class=\\\"hljs-operator\\\"\u003e/\u003c/span\u003esbcl: bad interpreter: No such file or directory\\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis problem is not limited to Common Lisp but also in Python, Ruby, and other languages. A standard solution is to rewrite shebang using \u003ccode\u003e/usr/bin/env\u003c/code\u003e.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"lang-shell\\\"\u003e#!/usr/bin/env -S sbcl --script\\n\\n(write-line \\\"Hello, World!\\\")\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eThe \u003ccode\u003e-S\u003c/code\u003e option is specified to make \u003ccode\u003e/usr/bin/env\u003c/code\u003e accept options. If you don't specify it, an error will occur trying to find the program named \\\"sbcl --script\\\".\u003c/p\u003e\\n\u003cp\u003eCommand-line arguments can be accessed via \u003ccode\u003esb-ext:*posix-argv*\u003c/code\u003e. Looks good, huh?\u003c/p\u003e\\n\u003ch2 id=\\\"heading-is-it-portable-enough\\\"\u003eIs it portable enough?\u003c/h2\u003e\\n\u003cp\u003eOf course, this only works with SBCL, but it's not so bad for UNIX-like OSes where SBCL is installed. Not often, but I use this method in Docker containers.\u003c/p\u003e\\n\u003cp\u003eHowever, what if you want to write a Common Lisp application with a command-line interface that is supposed to run in various environments. Is the SBCL script portable enough?\u003c/p\u003e\\n\u003cp\u003eFirst of all, it's not easy to load libraries via Quicklisp. Because \u003ccode\u003esbcl --script\u003c/code\u003e doesn't read \u003ccode\u003e.sbclrc\u003c/code\u003e, and don't load Quicklisp even if it's installed.\u003c/p\u003e\\n\u003cp\u003eBesides, it also becomes more difficult if you are aiming for a general-purpose script, such as if you want to run it on other implementations or if you want to support Windows.\u003c/p\u003e\\n\u003ch2 id=\\\"heading-roswell-script\\\"\u003eRoswell Script\u003c/h2\u003e\\n\u003cp\u003e\\\"Roswell script\\\" is a good option in that case.\u003c/p\u003e\\n\u003cp\u003eStart writing a Roswell script that outputs \\\"Hello, World!\\\". \u003ccode\u003eros init\u003c/code\u003e is a command to create a template for a Roswell script.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode\u003e$ ros init hello\u003cspan class=\\\"hljs-operator\\\"\u003e-\u003c/span\u003eworld\\nSuccessfully generated: hello\u003cspan class=\\\"hljs-operator\\\"\u003e-\u003c/span\u003eworld.ros\\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe output file ending with \u003ccode\u003e.ros\u003c/code\u003e will look like the following:\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"lang-lisp\\\"\u003e#!/bin/sh\\n#|-*- mode:lisp -*-|#\\n#|\\nexec ros -Q -- $0 \\\"$@\\\"\\n|#\\n(progn ;;init forms\\n  (ros:ensure-asdf)\\n  #+quicklisp(ql:quickload '() :silent t)\\n  )\\n\\n(defpackage :ros.script.hello-world.3848003839\\n  (:use :cl))\\n(in-package :ros.script.hello-world.3848003839)\\n\\n(defun main (\u0026amp;rest argv)\\n  (declare (ignorable argv)))\\n;;; vim: set ft=lisp lisp:\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eIt will be bewildering at first, so let's take a look at what it does, part by part.\u003c/p\u003e\\n\u003ch3 id=\\\"heading-line-1-5-hack-to-make-the-startup-portable\\\"\u003eLine 1-5: Hack to make the startup portable\u003c/h3\u003e\\n\u003cp\u003eThe first 5 lines are for hacking to make the startup process portable. You don't need to know how these lines work, but I'm writing this just for curious people.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"lang-shell\\\"\u003e#!/bin/sh\\n#|-*- mode:lisp -*-|#\\n#|\\nexec ros -Q -- $0 \\\"$@\\\"\\n|#\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eThe terminal reads the first line as its shebang and launches the program with \u003ccode\u003e/bin/sh\u003c/code\u003e. \u003ccode\u003e#\u003c/code\u003e is a comment in the shell, so the 2-3 lines are skipped. Next, the shell comes to the \u003ccode\u003eexec ros\u003c/code\u003e line and finally invokes \u003ccode\u003eros\u003c/code\u003e.\u003c/p\u003e\\n\u003cp\u003eThe second launch is with \u003ccode\u003eros\u003c/code\u003e. \u003ccode\u003eros\u003c/code\u003e will skip the first shebang. Also, inside of \u003ccode\u003e#|\u003c/code\u003e to\u003ccode\u003e|#\u003c/code\u003e will be ignored since it's a multi-line comment in Common Lisp. Then, execute the code below as Common Lisp.\u003c/p\u003e\\n\u003ch3 id=\\\"heading-line-6-9-initial-forms\\\"\u003eLine 6-9: Initial forms\u003c/h3\u003e\\n\u003cp\u003eLines 6 to 9 are the place to write the code for initialization.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"lang-lisp\\\"\u003e(progn ;;init forms\\n  (ros:ensure-asdf)\\n  #+quicklisp(ql:quickload '() :silent t)\\n  )\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eMainly, this is for loading external libraries.\u003c/p\u003e\\n\u003cp\u003eI asked the Roswell author, \u003ca target=\\\"_blank\\\" href=\\\"https://github.com/snmsts\\\"\u003e@snmsts\u003c/a\u003e, something like, \\\"Is there any significance to write external dependencies here?\\\" He said, \\\"I think it would be treated special when it's built to the binary, but I don't remember much. That is for fast startup, maybe?\\\"\u003c/p\u003e\\n\u003cp\u003eAfter some investigation, he found it didn't work as intended. Nowadays, it seems to remain merely a good manner to list all dependencies in one place.\u003c/p\u003e\\n\u003ch3 id=\\\"heading-after-line-10-main-part\\\"\u003eAfter Line 10: Main part\u003c/h3\u003e\\n\u003cp\u003eThe rest of the file is a normal Common Lisp program.\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"lang-lisp\\\"\u003e(defpackage :ros.script.hello-world.3848003839\\n  (:use :cl))\\n(in-package :ros.script.hello-world.3848003839)\\n\\n(defun main (\u0026amp;rest argv)\\n  (declare (ignorable argv)))\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eThe \u003ccode\u003emain\u003c/code\u003e function is always required. It will be the entry function when the Roswell script is executed. It takes command-line arguments as a list of strings.\u003c/p\u003e\\n\u003cp\u003eThere are no restrictions on defining other functions and so on. This part can be written like a regular program.\u003c/p\u003e\\n\u003ch2 id=\\\"heading-benefits-of-roswell-script\\\"\u003eBenefits of Roswell script\u003c/h2\u003e\\n\u003cp\u003eWhy should you write a script in a Roswell manner? There are 3 benefits to writing Roswell scripts.\u003c/p\u003e\\n\u003cp\u003eFirst of all, the Roswell script is independent of Lisp implementations. \u003ccode\u003esbcl --script\u003c/code\u003e obviously doesn't work other than SBCL; however, the Roswell script works every Lisp supported by Roswell.\u003c/p\u003e\\n\u003cp\u003eThe second benefit is automatic script installation with \u003ccode\u003eros install\u003c/code\u003e.\u003c/p\u003e\\n\u003cp\u003eI introduced \u003ccode\u003eros install\u003c/code\u003e in \\\"Day 2\\\", which is for installing Common Lisp applications/libraries. Not only placing files, but also it treats Roswell scripts special. When the application has a directory named \u003ccode\u003eroswell\u003c/code\u003e, copy all scripts under it into \u003ccode\u003e~/.roswell/bin\u003c/code\u003e. This is the reason why you can use the \u003ccode\u003eqlot\u003c/code\u003e command right after running \u003ccode\u003eros install fukamachi/qlot\u003c/code\u003e.\u003c/p\u003e\\n\u003cp\u003eThe last one is binary-build.\u003c/p\u003e\\n\u003cp\u003eRoswell scripts can be built as a binary by running \u003ccode\u003eros build\u003c/code\u003e. It can be a boon as it skips reading a file, compilations, and loading external libraries.\u003c/p\u003e\\n\u003cp\u003eTo summarize,\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003eLisp implementation portable\u003c/li\u003e\\n\u003cli\u003eAutomatic installation with \u003ccode\u003eros install\u003c/code\u003e\u003c/li\u003e\\n\u003cli\u003eAllow building a binary with \u003ccode\u003eros build\u003c/code\u003e\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cp\u003eThese benefits make it the perfect way to distribute a general-purpose application and provide its command-line interface.\u003c/p\u003e\\n\u003ch2 id=\\\"heading-examples\\\"\u003eExamples\u003c/h2\u003e\\n\u003cp\u003eAt last, I introduce the real examples of Roswell scripts. See inside \u003ccode\u003e~/.roswell\u003c/code\u003e directory of those projects.\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003ca target=\\\"_blank\\\" href=\\\"https://github.com/fukamachi/qlot\\\"\u003eQlot\u003c/a\u003e\u003cul\u003e\\n\u003cli\u003eA project-local library installer\u003c/li\u003e\\n\u003cli\u003eProvides \u003ccode\u003eqlot\u003c/code\u003e command to install/update project dependencies and utilize them.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003ca target=\\\"_blank\\\" href=\\\"https://github.com/fukamachi/clack\\\"\u003eClack\u003c/a\u003e\u003cul\u003e\\n\u003cli\u003eWeb server abstraction layer\u003c/li\u003e\\n\u003cli\u003eProvides \u003ccode\u003eclackup\u003c/code\u003e command to start a web application.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003ca target=\\\"_blank\\\" href=\\\"https://github.com/lem-project/lem\\\"\u003elem\u003c/a\u003e\u003cul\u003e\\n\u003cli\u003eCommon Lisp editor/IDE with high expansibility\u003c/li\u003e\\n\u003cli\u003eProvides \u003ccode\u003elem\u003c/code\u003e command to start an editor.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003c/li\u003e\\n\u003c/ul\u003e\\n\",\"contentMarkdown\":\"Hi, all Common Lispers.  \\nüéä And, happy new year in 2022! üéç\\n\\nI'm happy that you came to this blog again this year üòÜ\\n\\nI explained how to install Lisp implementations, libraries, and applications with Roswell until the previous article.\\n\\n* [Day 2: Roswell: Install libraries/applications](https://fukamachi.hashnode.dev/day-2-roswell-install-libraries-and-applications)\\n\\nToday, I can finally introduce a different aspect of [Roswell](https://github.com/roswell/roswell) -- as a scripting supporter.\\n\\n## Scripting in Common Lisp world\\n\\nLet's think about writing a script in Common Lisp.\\n\\nIt has to accept input as a shell command, execute some code, and quit.\\n\\nHow to achieve it in the REPL first language? In SBCL, the `--script` option is just for it.\\n\\n```shell\\n$ sbcl --script hello.lisp\\n```\\n\\nUsing this in shebang, it works as a shell command.\\n\\n```shell\\n#!/usr/local/bin/sbcl --script\\n\\n(write-line \\\"Hello, World!\\\")\\n```\\n\\nSave this code as a \\\"hello.lisp\\\" file and give it execute permission.\\n\\n```\\n$ ./hello.lisp\\nHello, World!\\n```\\n\\nGood work. But, this requires SBCL to be installed at \\\"/usr/local/bin/sbcl\\\". If it's installed at the other location, the shell raises an error:\\n\\n```\\n$ ./hello.lisp\\n-bash: ./hello.lisp: /usr/local/bin/sbcl: bad interpreter: No such file or directory\\n```\\n\\nThis problem is not limited to Common Lisp but also in Python, Ruby, and other languages. A standard solution is to rewrite shebang using `/usr/bin/env`.\\n\\n```shell\\n#!/usr/bin/env -S sbcl --script\\n\\n(write-line \\\"Hello, World!\\\")\\n```\\n\\nThe `-S` option is specified to make `/usr/bin/env` accept options. If you don't specify it, an error will occur trying to find the program named \\\"sbcl --script\\\".\\n\\nCommand-line arguments can be accessed via `sb-ext:*posix-argv*`. Looks good, huh?\\n\\n## Is it portable enough?\\n\\nOf course, this only works with SBCL, but it's not so bad for UNIX-like OSes where SBCL is installed. Not often, but I use this method in Docker containers.\\n\\nHowever, what if you want to write a Common Lisp application with a command-line interface that is supposed to run in various environments. Is the SBCL script portable enough?\\n\\nFirst of all, it's not easy to load libraries via Quicklisp. Because `sbcl --script` doesn't read `.sbclrc`, and don't load Quicklisp even if it's installed.\\n\\nBesides, it also becomes more difficult if you are aiming for a general-purpose script, such as if you want to run it on other implementations or if you want to support Windows.\\n\\n## Roswell Script\\n\\n\\\"Roswell script\\\" is a good option in that case.\\n\\nStart writing a Roswell script that outputs \\\"Hello, World!\\\". `ros init` is a command to create a template for a Roswell script.\\n\\n```\\n$ ros init hello-world\\nSuccessfully generated: hello-world.ros\\n```\\n\\nThe output file ending with `.ros` will look like the following:\\n\\n```lisp\\n#!/bin/sh\\n#|-*- mode:lisp -*-|#\\n#|\\nexec ros -Q -- $0 \\\"$@\\\"\\n|#\\n(progn ;;init forms\\n  (ros:ensure-asdf)\\n  #+quicklisp(ql:quickload '() :silent t)\\n  )\\n\\n(defpackage :ros.script.hello-world.3848003839\\n  (:use :cl))\\n(in-package :ros.script.hello-world.3848003839)\\n\\n(defun main (\u0026rest argv)\\n  (declare (ignorable argv)))\\n;;; vim: set ft=lisp lisp:\\n```\\n\\nIt will be bewildering at first, so let's take a look at what it does, part by part.\\n\\n### Line 1-5: Hack to make the startup portable\\n\\nThe first 5 lines are for hacking to make the startup process portable. You don't need to know how these lines work, but I'm writing this just for curious people.\\n\\n```shell\\n#!/bin/sh\\n#|-*- mode:lisp -*-|#\\n#|\\nexec ros -Q -- $0 \\\"$@\\\"\\n|#\\n```\\n\\nThe terminal reads the first line as its shebang and launches the program with `/bin/sh`. `#` is a comment in the shell, so the 2-3 lines are skipped. Next, the shell comes to the `exec ros` line and finally invokes `ros`.\\n\\nThe second launch is with `ros`. `ros` will skip the first shebang. Also, inside of `#|` to`|#` will be ignored since it's a multi-line comment in Common Lisp. Then, execute the code below as Common Lisp.\\n\\n### Line 6-9: Initial forms\\n\\nLines 6 to 9 are the place to write the code for initialization.\\n\\n```lisp\\n(progn ;;init forms\\n  (ros:ensure-asdf)\\n  #+quicklisp(ql:quickload '() :silent t)\\n  )\\n```\\n\\nMainly, this is for loading external libraries.\\n\\nI asked the Roswell author, [@snmsts](https://github.com/snmsts), something like, \\\"Is there any significance to write external dependencies here?\\\" He said, \\\"I think it would be treated special when it's built to the binary, but I don't remember much. That is for fast startup, maybe?\\\"\\n\\nAfter some investigation, he found it didn't work as intended. Nowadays, it seems to remain merely a good manner to list all dependencies in one place.\\n\\n### After Line 10: Main part\\n\\nThe rest of the file is a normal Common Lisp program.\\n\\n```lisp\\n(defpackage :ros.script.hello-world.3848003839\\n  (:use :cl))\\n(in-package :ros.script.hello-world.3848003839)\\n\\n(defun main (\u0026rest argv)\\n  (declare (ignorable argv)))\\n```\\n\\nThe `main` function is always required. It will be the entry function when the Roswell script is executed. It takes command-line arguments as a list of strings.\\n\\nThere are no restrictions on defining other functions and so on. This part can be written like a regular program.\\n\\n## Benefits of Roswell script\\n\\nWhy should you write a script in a Roswell manner? There are 3 benefits to writing Roswell scripts.\\n\\nFirst of all, the Roswell script is independent of Lisp implementations. `sbcl --script` obviously doesn't work other than SBCL; however, the Roswell script works every Lisp supported by Roswell.\\n\\nThe second benefit is automatic script installation with `ros install`.\\n\\nI introduced `ros install` in \\\"Day 2\\\", which is for installing Common Lisp applications/libraries. Not only placing files, but also it treats Roswell scripts special. When the application has a directory named `roswell`, copy all scripts under it into `~/.roswell/bin`. This is the reason why you can use the `qlot` command right after running `ros install fukamachi/qlot`.\\n\\nThe last one is binary-build.\\n\\nRoswell scripts can be built as a binary by running `ros build`. It can be a boon as it skips reading a file, compilations, and loading external libraries.\\n\\nTo summarize,\\n\\n* Lisp implementation portable\\n* Automatic installation with `ros install`\\n* Allow building a binary with `ros build`\\n\\nThese benefits make it the perfect way to distribute a general-purpose application and provide its command-line interface.\\n\\n## Examples\\n\\nAt last, I introduce the real examples of Roswell scripts. See inside `~/.roswell` directory of those projects.\\n\\n* [Qlot](https://github.com/fukamachi/qlot)\\n  * A project-local library installer\\n  * Provides `qlot` command to install/update project dependencies and utilize them.\\n* [Clack](https://github.com/fukamachi/clack)\\n  * Web server abstraction layer\\n  * Provides `clackup` command to start a web application.\\n* [lem](https://github.com/lem-project/lem)\\n  * Common Lisp editor/IDE with high expansibility\\n  * Provides `lem` command to start an editor.\",\"hasPolls\":false,\"totalPollVotes\":0,\"upvotes\":0,\"downvotes\":0,\"tags\":[],\"untaggedFrom\":[],\"popularity\":5162.3277,\"responseCount\":0,\"replyCount\":0,\"followers\":[],\"isActive\":true,\"isFeatured\":false,\"isEngaging\":false,\"answeredByTarget\":false,\"isDelisted\":false,\"isNotified\":false,\"duplicatePosts\":[],\"numCollapsed\":0,\"hasReward\":false,\"bookmarkedIn\":[],\"reactions\":[\"5c090d96c2a9c2a674d35484\",\"567453d0b73d6a82ac8c5ab9\",\"5d9dd859f31791c942dc5b52\"],\"totalReactions\":9,\"reactionsByCurrentUser\":[],\"isPinnedToBlog\":false,\"disableComments\":true,\"commentsPaused\":false,\"hasLatex\":true,\"syncAlgolia\":true,\"enableToc\":false,\"toc\":[],\"numUniqueUsersWhoReacted\":0,\"title\":\"Day 3: Roswell: Common Lisp scripting\",\"subtitle\":\"\",\"type\":\"story\",\"coverImageAttribution\":\"\",\"coverImagePhotographer\":\"\",\"isCoverAttributionHidden\":false,\"ogImage\":\"\",\"metaTitle\":\"\",\"metaDescription\":\"\",\"isRepublished\":false,\"originalArticleURL\":\"\",\"partOfPublication\":true,\"publication\":{\"_id\":\"616bb48f441bd36daa95632f\",\"betaFeatures\":{\"newsletter\":false,\"embeds\":false,\"csvImport\":false,\"customCSS\":false,\"githubAsSource\":false,\"payments\":false,\"rssIntegration\":false},\"views\":{\"today\":0,\"thisWeek\":152,\"lastWeek\":255,\"thisMonth\":1008,\"allTime\":27244},\"stripe\":{\"connected\":false},\"numFollowers\":0,\"badgePageEnabled\":false,\"newsletterEnabled\":false,\"audioBlogEnabled\":false,\"textSelectionSharerEnabled\":true,\"newsletterFrequency\":\"asap\",\"staticPages\":[],\"isFeatured\":false,\"dailyViewsForCurrentMonth\":{\"1690416000\":45,\"1690502400\":26,\"1690588800\":23,\"1690675200\":32,\"1690761600\":42,\"1690848000\":41,\"1690934400\":25,\"1691020800\":30,\"1691107200\":39,\"1691193600\":34,\"1691280000\":42,\"1691366400\":29,\"1691452800\":23,\"1691539200\":22,\"1691625600\":59,\"1691712000\":41,\"1691798400\":48,\"1691884800\":26,\"1691971200\":23,\"1692057600\":56,\"1692144000\":32,\"1692230400\":64,\"1692316800\":32,\"1692403200\":22,\"1692489600\":17,\"1692576000\":36,\"1692662400\":17,\"1692748800\":24,\"1692835200\":35,\"1692921600\":23},\"viewCountVisible\":false,\"readTimeHidden\":false,\"customCSSEnabled\":false,\"domainChecklistSkipped\":false,\"author\":{\"_id\":\"616bb437b636526db5f48a3d\",\"socialMedia\":{\"twitter\":\"https://twitter.com/nitro_idiot\",\"github\":\"https://github.com/fukamachi\",\"stackoverflow\":\"\",\"facebook\":\"\",\"website\":\"https://8arrow.org\",\"linkedin\":\"\"},\"location\":\"Tokyo, Japan\",\"isBanned\":false,\"isDeactivated\":false,\"numFollowers\":52,\"numFollowing\":0,\"storiesCreated\":[],\"totalUpvotesReceived\":0,\"tagManagerOf\":[],\"isEvangelist\":false,\"isAmbassador\":false,\"hasGoldRing\":false,\"name\":\"Eitaro Fukamachi\",\"username\":\"fukamachi\",\"tagline\":\"Web app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\",\"photo\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1634610053413/8knI165Ro.jpeg\",\"dateJoined\":\"2021-10-17T05:27:19.815Z\",\"publicationDomain\":\"\",\"bio\":\"\",\"numPosts\":20,\"numReactions\":59},\"isActive\":true,\"username\":\"fukamachi\",\"domain\":\"\",\"urlPattern\":\"simple\",\"title\":\"fukamachi tech notes\",\"links\":{\"twitter\":\"https://twitter.com/nitro_idiot\",\"github\":\"https://github.com/fukamachi\",\"website\":\"https://8arrow.org\",\"hashnode\":\"https://hashnode.com/@fukamachi\",\"youtube\":\"\",\"dailydev\":\"\",\"linkedin\":\"\"},\"domainStatus\":{\"ready\":false,\"certIssued\":false},\"domainUpdatedOn\":\"2021-10-17T05:28:47.724Z\",\"customRules\":[],\"menu\":[],\"__v\":0,\"imprint\":\"\",\"imprintMarkdown\":\"\",\"meta\":\"Web app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\",\"metaHTML\":\"\u003cp\u003eWeb app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\u003c/p\u003e\\n\",\"hasBadges\":true,\"umamiWebsiteUUID\":\"717b8d5d-07d8-48fb-9ecc-46bb1f382cf1\",\"umamiDataImported\":true,\"metaHTMLSanitized\":\"Web app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\\n\",\"numPosts\":9},\"slug\":\"day-3-roswell-common-lisp-scripting\",\"importedFromMedium\":false,\"dateAdded\":\"2022-01-04T05:10:07.093Z\",\"hasCustomDate\":false,\"stickCoverToBottom\":false,\"pollOptions\":[],\"badges\":[],\"questionReplies\":[],\"contributors\":[],\"cuid\":\"ckxznkldt01ph8rs10cyqdqsz\",\"author\":{\"_id\":\"616bb437b636526db5f48a3d\",\"socialMedia\":{\"twitter\":\"https://twitter.com/nitro_idiot\",\"github\":\"https://github.com/fukamachi\",\"stackoverflow\":\"\",\"facebook\":\"\",\"website\":\"https://8arrow.org\",\"linkedin\":\"\"},\"location\":\"Tokyo, Japan\",\"isBanned\":false,\"isDeactivated\":false,\"numFollowers\":52,\"numFollowing\":0,\"storiesCreated\":[],\"totalUpvotesReceived\":0,\"tagManagerOf\":[],\"isEvangelist\":false,\"isAmbassador\":false,\"hasGoldRing\":false,\"name\":\"Eitaro Fukamachi\",\"username\":\"fukamachi\",\"tagline\":\"Web app engineer based in Tokyo, Japan. An author of Clack, Woo, Mito, Qlot, and other 50+ Common Lisp libraries.\",\"photo\":\"https://cdn.hashnode.com/res/hashnode/image/upload/v1634610053413/8knI165Ro.jpeg\",\"dateJoined\":\"2021-10-17T05:27:19.815Z\",\"publicationDomain\":\"\",\"bio\":\"\",\"numPosts\":20,\"numReactions\":59},\"followersCount\":1,\"hasPinnedTag\":false,\"readTime\":5,\"__v\":0,\"viewsUpdatedOn\":1692909032852,\"series\":null,\"dateUpdated\":\"2022-01-04T23:56:29.152Z\",\"pendingPublicationApproval\":false,\"reactionToCountMap\":{\"reaction_5c090d96c2a9c2a674d35484\":4,\"reaction_567453d0b73d6a82ac8c5ab9\":1,\"reaction_5d9dd859f31791c942dc5b52\":1},\"hasTags\":false,\"isPartOfSeries\":false,\"responses\":[]}","legacySeriesJSON":null,"headProps":{"title":"Day 3: Roswell: Common Lisp scripting","description":"Hi, all Common Lispers.üéä And, happy new year in 2022! üéç\nI'm happy that you came to this blog again this year üòÜ\nI explained how to install Lisp implementations, libraries, and applications with Roswell until the previous article.\n\nDay 2: Roswell: I...","links":[{"rel":"canonical","href":"https://fukamachi.hashnode.dev/day-3-roswell-common-lisp-scripting"}],"pageType":"article","bannerType":"large","ogSiteName":"fukamachi tech notes","url":"https://fukamachi.hashnode.dev/day-3-roswell-common-lisp-scripting","ogImage":"https://fukamachi.hashnode.dev/api/og/post?og=eyJ0aXRsZSI6IkRheSUyMDMlM0ElMjBSb3N3ZWxsJTNBJTIwQ29tbW9uJTIwTGlzcCUyMHNjcmlwdGluZyIsImF1dGhvciI6IkVpdGFybyUyMEZ1a2FtYWNoaSIsImRvbWFpbiI6ImZ1a2FtYWNoaS5oYXNobm9kZS5kZXYiLCJwaG90byI6Imh0dHBzOi8vY2RuLmhhc2hub2RlLmNvbS9yZXMvaGFzaG5vZGUvaW1hZ2UvdXBsb2FkL3YxNjM0NjEwMDUzNDEzLzhrbkkxNjVSby5qcGVnIiwicmVhZFRpbWUiOjUsInJlYWN0aW9ucyI6OX0=","twitterImage":"https://fukamachi.hashnode.dev/api/og/post?og=eyJ0aXRsZSI6IkRheSUyMDMlM0ElMjBSb3N3ZWxsJTNBJTIwQ29tbW9uJTIwTGlzcCUyMHNjcmlwdGluZyIsImF1dGhvciI6IkVpdGFybyUyMEZ1a2FtYWNoaSIsImRvbWFpbiI6ImZ1a2FtYWNoaS5oYXNobm9kZS5kZXYiLCJwaG90byI6Imh0dHBzOi8vY2RuLmhhc2hub2RlLmNvbS9yZXMvaGFzaG5vZGUvaW1hZ2UvdXBsb2FkL3YxNjM0NjEwMDUzNDEzLzhrbkkxNjVSby5qcGVnIiwicmVhZFRpbWUiOjUsInJlYWN0aW9ucyI6OX0=","twitterHandle":"@nitro_idiot","monetization":null,"style":{},"customHeadItems":{"customFavicon":null,"customTheme":null,"customMeta":null},"hljs":true},"isDarkTheme":false,"headerColor":null,"isBadge":null,"isHome":null,"currentMenuId":null,"hnmcMode":false,"postCUID":"ckxznkldt01ph8rs10cyqdqsz","seoSchema":{"@context":"https://schema.org","@type":"NewsArticle","url":"https://fukamachi.hashnode.dev/day-3-roswell-common-lisp-scripting","mainEntityOfPage":"https://fukamachi.hashnode.dev/day-3-roswell-common-lisp-scripting","headline":"Day 3: Roswell: Common Lisp scripting","description":"Hi, all Common Lispers.üéä And, happy new year in 2022! üéç\nI'm happy that you came to this blog again this year üòÜ\nI explained how to install Lisp implementations, libraries, and applications with Roswell until the previous article.\n\nDay 2: Roswell: I...","datePublished":"2022-01-04T05:10:07.093Z","dateModified":"2022-01-04T23:56:29.152Z","isAccessibleForFree":true,"author":{"@type":"Person","name":"Eitaro Fukamachi","url":"https://hashnode.com/@fukamachi","sameAs":"https://twitter.com/nitro_idiot"},"publisher":{"@type":"Organization","name":"fukamachi tech notes","url":"https://fukamachi.hashnode.dev","logo":"https://hashnode.com/utility/r?url=https%3A%2F%2Fcdn.hashnode.com%2Fres%2Fhashnode%2Fimage%2Fupload%2Fv1559814205701%2Fek9fO-yT0.jpeg%3Fw%3D800%26bm%3Dnormal%26balph%3D100%26txt64%3DZnVrYW1hY2hpIHRlY2ggbm90ZXM%26txtsize%3D42%26txtfit%3Dmax%26txtalign%3Dmiddle%2Ccenter%26txtfont%3DHelvetica%20Neue%2CBold%26txtclr%3D000000%26blend%3Dffffff"}},"publication":{"id":"616bb48f441bd36daa95632f","integrations":{"fbPixelID":null,"fathomSiteID":null,"fathomCustomDomainEnabled":null,"fathomCustomDomain":null,"hotjarSiteID":null,"matomoSiteID":null,"matomoURL":null,"gaTrackingID":null,"plausibleAnalyticsEnabled":null,"domainURL":"fukamachi.hashnode.dev"},"url":"https://fukamachi.hashnode.dev","postsCount":9,"title":"fukamachi tech notes","impressum":null,"author":{"name":"Eitaro Fukamachi","profilePicture":"https://cdn.hashnode.com/res/hashnode/image/upload/v1634610053413/8knI165Ro.jpeg","username":"fukamachi","id":"616bb437b636526db5f48a3d"},"favicon":null,"isTeam":false,"links":{"twitter":"https://twitter.com/nitro_idiot","github":"https://github.com/fukamachi","website":"https://8arrow.org","hashnode":"https://hashnode.com/@fukamachi","youtube":"","dailydev":"","linkedin":""},"preferences":{"logo":null,"darkMode":{"enabled":null,"logo":null},"customCSS":{"enabled":null,"staticMin":null},"navbarItems":[],"enabledPages":{"badges":false,"members":false,"newsletter":false},"disableFooterBranding":false},"headerColor":null,"features":{"newsletter":{"isEnabled":false},"readTime":{"isEnabled":true},"viewCount":{"isEnabled":false}}},"series":null,"isPreviewMode":false}},"__N_SSP":true},"page":"/[...slug]","query":{"slug":["day-3-roswell-common-lisp-scripting"]},"buildId":"odVCBIKd4qOA3x_wWYc3C","isFallback":false,"dynamicIds":[40331],"gssp":true,"scriptLoader":[]}</script><div id="hn-modal"></div><div id="hn-toast"></div></body></html>
